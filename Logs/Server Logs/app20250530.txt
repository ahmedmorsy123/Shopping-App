2025-05-30 10:48:34.479 +03:00 [INF] Starting web host
2025-05-30 10:48:36.486 +03:00 [INF] Now listening on: https://localhost:7093
2025-05-30 10:48:36.488 +03:00 [INF] Now listening on: http://localhost:5002
2025-05-30 10:48:36.606 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:48:36.607 +03:00 [INF] Hosting environment: Development
2025-05-30 10:48:36.607 +03:00 [INF] Content root path: C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI
2025-05-30 10:48:49.551 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 10:48:49.560 +03:00 [INF] AuthBL Login
2025-05-30 10:48:49.659 +03:00 [INF] ServAuth Login
2025-05-30 10:48:55.439 +03:00 [INF] ServPass Verifying password
2025-05-30 10:48:56.591 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 10:48:56.591 +03:00 [INF] ServAuth Creating token response
2025-05-30 10:48:56.593 +03:00 [INF] ServAuth Creating token
2025-05-30 10:48:56.605 +03:00 [INF] ServAuth Token created successfully
2025-05-30 10:48:56.689 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 10:48:56.697 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 10:48:56.785 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 10:48:56.860 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 10:48:57.123 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 10:48:57.126 +03:00 [INF] UsersBL GetUserById
2025-05-30 10:48:57.131 +03:00 [INF] UserDA Getting user by id
2025-05-30 10:48:59.689 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 10:48:59.692 +03:00 [INF] CartsBL Get User Cart
2025-05-30 10:48:59.695 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 10:48:59.698 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 10:48:59.698 +03:00 [INF] CartDA Get User Cart
2025-05-30 10:48:59.706 +03:00 [INF] ProductDA Get Products
2025-05-30 10:48:59.992 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 10:49:00.156 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 10:49:05.544 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 10:49:05.547 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 10:49:05.552 +03:00 [INF] OrderDA Get User Orders
2025-05-30 10:49:05.552 +03:00 [INF] UserDA Getting user by id
2025-05-30 10:49:07.561 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 10:49:07.562 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 10:49:07.562 +03:00 [INF] ProductDA Get Products
2025-05-30 10:49:07.580 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 10:49:11.256 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 10:49:11.257 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 10:49:11.257 +03:00 [INF] ProductDA Get Products
2025-05-30 10:49:11.287 +03:00 [INF] ProductDA Returned: page 2, pageSize 12
2025-05-30 10:49:11.537 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 10:49:11.537 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 10:49:11.538 +03:00 [INF] ProductDA Get Products
2025-05-30 10:49:11.548 +03:00 [INF] ProductDA Returned: page 3, pageSize 12
2025-05-30 10:49:21.269 +03:00 [INF] CartsAPI Add Cart
2025-05-30 10:49:21.271 +03:00 [INF] CartsBL Add Cart
2025-05-30 10:49:21.273 +03:00 [INF] CartDA Add Cart
2025-05-30 10:49:21.457 +03:00 [INF] CartDA Cart Added
2025-05-30 10:49:21.637 +03:00 [INF] CartDA Cart Items Added
2025-05-30 10:49:21.638 +03:00 [INF] CartsAPI Cart was added with id 466
2025-05-30 10:49:26.250 +03:00 [INF] CartsAPI Update Cart
2025-05-30 10:49:26.252 +03:00 [INF] CartsBL Update Cart
2025-05-30 10:49:26.258 +03:00 [INF] CartDA Update Cart
2025-05-30 10:49:26.592 +03:00 [INF] CartDA Cart Updated
2025-05-30 10:49:26.593 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 10:49:40.496 +03:00 [INF] OrdersAPI Add Order
2025-05-30 10:49:40.499 +03:00 [INF] OrdersBL AddOrder
2025-05-30 10:49:40.508 +03:00 [INF] OrderDA Add Order
2025-05-30 10:49:40.565 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 10:49:40.842 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 10:49:40.945 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 10:49:40.961 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 10:49:40.973 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 10:49:41.011 +03:00 [INF] CartDA Delete Cart
2025-05-30 10:49:41.044 +03:00 [INF] CartDA Cart Deleted
2025-05-30 10:49:44.227 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 10:49:44.228 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 10:49:44.228 +03:00 [INF] OrderDA Get User Orders
2025-05-30 10:49:44.228 +03:00 [INF] UserDA Getting user by id
2025-05-30 10:49:58.518 +03:00 [INF] CartsAPI Update Cart
2025-05-30 10:49:58.518 +03:00 [INF] CartsBL Update Cart
2025-05-30 10:49:58.518 +03:00 [INF] CartDA Update Cart
2025-05-30 10:49:58.533 +03:00 [WRN] CartDA Cart Not Found
2025-05-30 10:49:58.548 +03:00 [INF] CartsAPI There is no cart with this id so add new one
2025-05-30 10:49:58.553 +03:00 [INF] CartsBL Add Cart
2025-05-30 10:49:58.553 +03:00 [INF] CartDA Add Cart
2025-05-30 10:49:58.576 +03:00 [INF] CartDA Cart Added
2025-05-30 10:49:58.576 +03:00 [INF] CartDA Cart Items Added
2025-05-30 10:49:58.581 +03:00 [INF] AuthBL Logout
2025-05-30 10:49:58.584 +03:00 [INF] ServAuth Logout
2025-05-30 10:49:58.617 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 12:09:19.831 +03:00 [INF] Starting web host
2025-05-30 12:09:21.363 +03:00 [INF] Now listening on: https://localhost:7093
2025-05-30 12:09:21.365 +03:00 [INF] Now listening on: http://localhost:5002
2025-05-30 12:09:21.471 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:09:21.471 +03:00 [INF] Hosting environment: Development
2025-05-30 12:09:21.471 +03:00 [INF] Content root path: C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI
2025-05-30 12:10:49.046 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 12:10:49.056 +03:00 [INF] AuthBL Login
2025-05-30 12:10:49.165 +03:00 [INF] ServAuth Login
2025-05-30 12:10:55.003 +03:00 [INF] ServPass Verifying password
2025-05-30 12:10:56.175 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 12:10:56.175 +03:00 [INF] ServAuth Creating token response
2025-05-30 12:10:56.177 +03:00 [INF] ServAuth Creating token
2025-05-30 12:10:56.191 +03:00 [INF] ServAuth Token created successfully
2025-05-30 12:10:56.306 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 12:10:56.316 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 12:10:56.419 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 12:10:56.482 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 12:10:56.731 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 12:10:56.734 +03:00 [INF] UsersBL GetUserById
2025-05-30 12:10:56.740 +03:00 [INF] UserDA Getting user by id
2025-05-30 12:10:57.508 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 12:10:57.510 +03:00 [INF] CartsBL Get User Cart
2025-05-30 12:10:57.517 +03:00 [INF] CartDA Get User Cart
2025-05-30 12:10:57.518 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 12:10:57.520 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 12:10:57.527 +03:00 [INF] ProductDA Get Products
2025-05-30 12:10:57.835 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 12:11:12.863 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 12:11:12.863 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 12:11:12.864 +03:00 [INF] ProductDA Get Products
2025-05-30 12:11:12.898 +03:00 [INF] ProductDA Returned: page 2, pageSize 12
2025-05-30 12:11:17.616 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 12:11:17.617 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 12:11:17.617 +03:00 [INF] ProductDA Get Products
2025-05-30 12:11:17.636 +03:00 [INF] ProductDA Returned: page 3, pageSize 12
2025-05-30 12:11:34.251 +03:00 [INF] CartsAPI Update Cart
2025-05-30 12:11:34.254 +03:00 [INF] CartsBL Update Cart
2025-05-30 12:11:34.261 +03:00 [INF] CartDA Update Cart
2025-05-30 12:11:34.771 +03:00 [INF] CartDA Cart Updated
2025-05-30 12:11:34.771 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 12:11:38.265 +03:00 [INF] OrdersAPI Add Order
2025-05-30 12:11:38.267 +03:00 [INF] OrdersBL AddOrder
2025-05-30 12:11:38.274 +03:00 [INF] OrderDA Add Order
2025-05-30 12:11:38.324 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 12:11:38.583 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.695 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.712 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.729 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.747 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.763 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.781 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.797 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.815 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.842 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 12:11:38.857 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 12:11:38.891 +03:00 [INF] CartDA Delete Cart
2025-05-30 12:11:38.941 +03:00 [INF] CartDA Cart Deleted
2025-05-30 12:11:41.590 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 12:11:41.592 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 12:11:41.600 +03:00 [INF] OrderDA Get User Orders
2025-05-30 12:11:41.600 +03:00 [INF] UserDA Getting user by id
2025-05-30 12:11:57.524 +03:00 [INF] CartsAPI Update Cart
2025-05-30 12:11:57.525 +03:00 [INF] CartsBL Update Cart
2025-05-30 12:11:57.525 +03:00 [INF] CartDA Update Cart
2025-05-30 12:11:57.551 +03:00 [INF] AuthBL Logout
2025-05-30 12:11:57.555 +03:00 [INF] ServAuth Logout
2025-05-30 12:11:57.588 +03:00 [WRN] CartDA Cart Not Found
2025-05-30 12:11:57.594 +03:00 [INF] CartsAPI There is no cart with this id so add new one
2025-05-30 12:11:57.612 +03:00 [INF] CartsBL Add Cart
2025-05-30 12:11:57.614 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 12:11:57.621 +03:00 [INF] CartDA Add Cart
2025-05-30 12:11:57.659 +03:00 [INF] CartDA Cart Added
2025-05-30 12:11:57.659 +03:00 [INF] CartDA Cart Items Added
2025-05-30 12:12:40.043 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 12:12:40.043 +03:00 [INF] AuthBL Login
2025-05-30 12:12:40.043 +03:00 [INF] ServAuth Login
2025-05-30 12:12:40.058 +03:00 [INF] ServPass Verifying password
2025-05-30 12:12:40.466 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 12:12:40.467 +03:00 [INF] ServAuth Creating token response
2025-05-30 12:12:40.467 +03:00 [INF] ServAuth Creating token
2025-05-30 12:12:40.467 +03:00 [INF] ServAuth Token created successfully
2025-05-30 12:12:40.468 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 12:12:40.468 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 12:12:40.471 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 12:12:40.475 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 12:12:40.493 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 12:12:40.493 +03:00 [INF] UsersBL GetUserById
2025-05-30 12:12:40.494 +03:00 [INF] UserDA Getting user by id
2025-05-30 12:13:44.392 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 12:13:44.392 +03:00 [INF] CartsBL Get User Cart
2025-05-30 12:13:44.392 +03:00 [INF] CartDA Get User Cart
2025-05-30 12:13:44.440 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 12:13:44.440 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 12:13:44.440 +03:00 [INF] ProductDA Get Products
2025-05-30 12:13:44.456 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 12:13:45.775 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 12:13:45.776 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 12:13:45.776 +03:00 [INF] OrderDA Get User Orders
2025-05-30 12:13:45.776 +03:00 [INF] UserDA Getting user by id
2025-05-30 12:13:58.297 +03:00 [INF] AuthBL Logout
2025-05-30 12:13:58.297 +03:00 [INF] ServAuth Logout
2025-05-30 12:13:58.313 +03:00 [INF] CartsAPI Update Cart
2025-05-30 12:13:58.314 +03:00 [INF] CartsBL Update Cart
2025-05-30 12:13:58.315 +03:00 [INF] CartDA Update Cart
2025-05-30 12:13:58.330 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 12:13:58.429 +03:00 [INF] CartDA Delete Cart
2025-05-30 12:13:58.449 +03:00 [INF] CartDA Cart Deleted
2025-05-30 12:13:58.450 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 12:13:58.451 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 12:14:15.621 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 12:14:15.621 +03:00 [INF] AuthBL Login
2025-05-30 12:14:15.621 +03:00 [INF] ServAuth Login
2025-05-30 12:14:15.671 +03:00 [INF] ServPass Verifying password
2025-05-30 12:14:15.971 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 12:14:15.971 +03:00 [INF] ServAuth Creating token response
2025-05-30 12:14:15.971 +03:00 [INF] ServAuth Creating token
2025-05-30 12:14:15.971 +03:00 [INF] ServAuth Token created successfully
2025-05-30 12:14:15.972 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 12:14:15.972 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 12:14:15.975 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 12:14:15.988 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 12:14:16.014 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 12:14:16.014 +03:00 [INF] UsersBL GetUserById
2025-05-30 12:14:16.014 +03:00 [INF] UserDA Getting user by id
2025-05-30 12:14:16.635 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 12:14:16.635 +03:00 [INF] CartsBL Get User Cart
2025-05-30 12:14:16.635 +03:00 [INF] CartDA Get User Cart
2025-05-30 12:14:16.653 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 12:14:16.653 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 12:14:16.653 +03:00 [INF] ProductDA Get Products
2025-05-30 12:14:16.693 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 12:14:16.707 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 12:14:19.309 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 12:14:19.309 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 12:14:19.309 +03:00 [INF] OrderDA Get User Orders
2025-05-30 12:14:19.309 +03:00 [INF] UserDA Getting user by id
2025-05-30 12:15:27.467 +03:00 [INF] AuthBL Logout
2025-05-30 12:15:27.468 +03:00 [INF] ServAuth Logout
2025-05-30 12:15:27.480 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 12:15:27.491 +03:00 [INF] CartsAPI Add Cart
2025-05-30 12:15:27.491 +03:00 [INF] CartsBL Add Cart
2025-05-30 12:15:27.491 +03:00 [INF] CartDA Add Cart
2025-05-30 12:15:27.499 +03:00 [INF] CartDA Cart Added
2025-05-30 12:15:27.499 +03:00 [INF] CartDA Cart Items Added
2025-05-30 12:15:27.499 +03:00 [INF] CartsAPI Cart was added with id 469
2025-05-30 14:24:52.457 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:24:52.457 +03:00 [INF] AuthBL Login
2025-05-30 14:24:52.457 +03:00 [INF] ServAuth Login
2025-05-30 14:24:52.606 +03:00 [INF] ServPass Verifying password
2025-05-30 14:24:52.944 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:24:52.944 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:24:52.944 +03:00 [INF] ServAuth Creating token
2025-05-30 14:24:52.946 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:24:52.949 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:24:52.950 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:24:52.953 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:24:52.965 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:24:53.014 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:24:53.014 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:24:53.015 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:27:32.637 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:27:32.637 +03:00 [INF] AuthBL Login
2025-05-30 14:27:32.637 +03:00 [INF] ServAuth Login
2025-05-30 14:27:32.674 +03:00 [INF] ServPass Verifying password
2025-05-30 14:27:32.964 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:27:32.964 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:27:32.964 +03:00 [INF] ServAuth Creating token
2025-05-30 14:27:32.964 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:27:32.965 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:27:32.965 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:27:32.969 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:27:32.977 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:27:32.997 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:27:32.997 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:27:32.997 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:31:10.109 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:31:10.109 +03:00 [INF] AuthBL Login
2025-05-30 14:31:10.111 +03:00 [INF] ServAuth Login
2025-05-30 14:31:10.147 +03:00 [INF] ServPass Verifying password
2025-05-30 14:31:10.386 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:31:10.386 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:31:10.386 +03:00 [INF] ServAuth Creating token
2025-05-30 14:31:10.386 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:31:10.387 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:31:10.388 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:31:10.392 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:31:10.400 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:31:10.428 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:31:10.428 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:31:10.428 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:33:30.732 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:33:30.733 +03:00 [INF] AuthBL Login
2025-05-30 14:33:30.733 +03:00 [INF] ServAuth Login
2025-05-30 14:33:30.748 +03:00 [INF] ServPass Verifying password
2025-05-30 14:33:31.007 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:33:31.007 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:33:31.007 +03:00 [INF] ServAuth Creating token
2025-05-30 14:33:31.007 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:33:31.007 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:33:31.007 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:33:31.009 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:33:31.017 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:33:31.032 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:33:31.032 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:33:31.032 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:34:56.258 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:34:56.259 +03:00 [INF] AuthBL Login
2025-05-30 14:34:56.259 +03:00 [INF] ServAuth Login
2025-05-30 14:34:56.285 +03:00 [INF] ServPass Verifying password
2025-05-30 14:34:56.599 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:34:56.599 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:34:56.599 +03:00 [INF] ServAuth Creating token
2025-05-30 14:34:56.599 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:34:56.600 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:34:56.600 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:34:56.603 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:34:56.615 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:34:56.639 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:34:56.639 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:34:56.639 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:37:09.061 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:37:09.062 +03:00 [INF] AuthBL Login
2025-05-30 14:37:09.062 +03:00 [INF] ServAuth Login
2025-05-30 14:37:09.093 +03:00 [INF] ServPass Verifying password
2025-05-30 14:37:09.404 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:37:09.404 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:37:09.404 +03:00 [INF] ServAuth Creating token
2025-05-30 14:37:09.404 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:37:09.405 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:37:09.405 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:37:09.408 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:37:09.416 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:37:09.443 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:37:09.444 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:37:09.444 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:37:10.011 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:37:10.012 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:37:10.012 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:37:10.055 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:37:10.055 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:37:10.056 +03:00 [INF] ProductDA Get Products
2025-05-30 14:37:10.103 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:37:12.020 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:37:12.020 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:37:12.020 +03:00 [INF] CartDA Update Cart
2025-05-30 14:37:12.020 +03:00 [INF] AuthBL Logout
2025-05-30 14:37:12.021 +03:00 [INF] ServAuth Logout
2025-05-30 14:37:12.079 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 14:37:12.125 +03:00 [INF] CartDA Delete Cart
2025-05-30 14:37:12.164 +03:00 [INF] CartDA Cart Deleted
2025-05-30 14:37:12.164 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 14:37:12.164 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:40:29.277 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:40:29.279 +03:00 [INF] AuthBL Login
2025-05-30 14:40:29.279 +03:00 [INF] ServAuth Login
2025-05-30 14:40:29.308 +03:00 [INF] ServPass Verifying password
2025-05-30 14:40:29.626 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:40:29.626 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:40:29.626 +03:00 [INF] ServAuth Creating token
2025-05-30 14:40:29.626 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:40:29.627 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:40:29.627 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:40:29.630 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:40:29.638 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:40:29.676 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:40:29.676 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:40:29.676 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:40:30.526 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:40:30.526 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:40:30.526 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:40:30.546 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:40:30.546 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:40:30.546 +03:00 [INF] ProductDA Get Products
2025-05-30 14:40:30.561 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 14:40:30.566 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:42:44.080 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:42:44.081 +03:00 [INF] AuthBL Login
2025-05-30 14:42:44.081 +03:00 [INF] ServAuth Login
2025-05-30 14:42:44.153 +03:00 [INF] ServPass Verifying password
2025-05-30 14:42:44.416 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:42:44.416 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:42:44.417 +03:00 [INF] ServAuth Creating token
2025-05-30 14:42:44.417 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:42:44.417 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:42:44.417 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:42:44.419 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:42:44.428 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:42:44.459 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:42:44.459 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:42:44.459 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:42:45.166 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:42:45.166 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:42:45.166 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:42:45.192 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:42:45.192 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:42:45.192 +03:00 [INF] ProductDA Get Products
2025-05-30 14:42:45.194 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 14:42:45.208 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:44:55.116 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:44:55.116 +03:00 [INF] AuthBL Login
2025-05-30 14:44:55.116 +03:00 [INF] ServAuth Login
2025-05-30 14:44:55.149 +03:00 [INF] ServPass Verifying password
2025-05-30 14:44:55.472 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:44:55.472 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:44:55.472 +03:00 [INF] ServAuth Creating token
2025-05-30 14:44:55.473 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:44:55.473 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:44:55.473 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:44:55.476 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:44:55.484 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:44:55.514 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:44:55.514 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:44:55.514 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:44:56.114 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:44:56.114 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:44:56.114 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:44:56.135 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:44:56.135 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:44:56.135 +03:00 [INF] ProductDA Get Products
2025-05-30 14:44:56.145 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 14:44:56.195 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:44:58.789 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 14:44:58.789 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 14:44:58.789 +03:00 [INF] OrderDA Get User Orders
2025-05-30 14:44:58.789 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:45:00.441 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:45:00.441 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:45:00.441 +03:00 [INF] ProductDA Get Products
2025-05-30 14:45:00.503 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:45:07.828 +03:00 [INF] CartsAPI Add Cart
2025-05-30 14:45:07.828 +03:00 [INF] CartsBL Add Cart
2025-05-30 14:45:07.828 +03:00 [INF] CartDA Add Cart
2025-05-30 14:45:07.879 +03:00 [INF] CartDA Cart Added
2025-05-30 14:45:07.936 +03:00 [INF] CartDA Cart Items Added
2025-05-30 14:45:07.936 +03:00 [INF] CartsAPI Cart was added with id 470
2025-05-30 14:45:10.029 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:45:10.030 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:45:10.030 +03:00 [INF] CartDA Update Cart
2025-05-30 14:45:10.126 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:45:10.126 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:45:11.808 +03:00 [INF] OrdersAPI Add Order
2025-05-30 14:45:11.809 +03:00 [INF] OrdersBL AddOrder
2025-05-30 14:45:11.809 +03:00 [INF] OrderDA Add Order
2025-05-30 14:45:11.812 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 14:45:11.853 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:45:11.883 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:45:11.891 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 14:45:11.899 +03:00 [INF] CartDA Delete Cart
2025-05-30 14:45:11.918 +03:00 [INF] CartDA Cart Deleted
2025-05-30 14:45:14.380 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 14:45:14.380 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 14:45:14.380 +03:00 [INF] OrderDA Get User Orders
2025-05-30 14:45:14.380 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:45:19.398 +03:00 [INF] AuthBL Logout
2025-05-30 14:45:19.398 +03:00 [INF] ServAuth Logout
2025-05-30 14:45:19.404 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:45:19.404 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:45:19.405 +03:00 [INF] CartDA Update Cart
2025-05-30 14:45:19.415 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 14:45:19.418 +03:00 [WRN] CartDA Cart Not Found
2025-05-30 14:45:19.419 +03:00 [INF] CartsAPI There is no cart with this id so add new one
2025-05-30 14:45:19.423 +03:00 [INF] CartsBL Add Cart
2025-05-30 14:45:19.424 +03:00 [INF] CartDA Add Cart
2025-05-30 14:45:19.431 +03:00 [INF] CartDA Cart Added
2025-05-30 14:45:19.432 +03:00 [INF] CartDA Cart Items Added
2025-05-30 14:47:39.439 +03:00 [INF] UsersAPI AddUserAPI
2025-05-30 14:47:39.442 +03:00 [INF] UsersBL AddUser
2025-05-30 14:47:39.448 +03:00 [INF] UserDA Adding user
2025-05-30 14:47:39.546 +03:00 [INF] ServPass Hashing password
2025-05-30 14:47:39.887 +03:00 [INF] UserDA User added successfully with id 507
2025-05-30 14:47:39.889 +03:00 [INF] UsersAPI Added user with id: 0
2025-05-30 14:48:09.705 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:48:09.705 +03:00 [INF] AuthBL Login
2025-05-30 14:48:09.705 +03:00 [INF] ServAuth Login
2025-05-30 14:48:09.715 +03:00 [INF] ServPass Verifying password
2025-05-30 14:48:10.034 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 14:48:10.034 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:48:10.034 +03:00 [INF] ServAuth Creating token
2025-05-30 14:48:10.034 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:48:10.035 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:48:10.035 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:48:10.037 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:48:10.046 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:48:10.078 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:48:10.078 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:48:10.079 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:48:11.393 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:48:11.393 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:48:11.393 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:48:11.416 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:48:11.416 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:48:11.416 +03:00 [INF] ProductDA Get Products
2025-05-30 14:48:11.418 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 14:48:11.436 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:48:34.330 +03:00 [INF] CartsAPI Add Cart
2025-05-30 14:48:34.330 +03:00 [INF] CartsBL Add Cart
2025-05-30 14:48:34.330 +03:00 [INF] CartDA Add Cart
2025-05-30 14:48:34.415 +03:00 [INF] CartDA Cart Added
2025-05-30 14:48:34.449 +03:00 [INF] CartDA Cart Items Added
2025-05-30 14:48:34.449 +03:00 [INF] CartsAPI Cart was added with id 472
2025-05-30 14:48:54.905 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:48:54.905 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:48:54.905 +03:00 [INF] CartDA Update Cart
2025-05-30 14:48:54.999 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:48:54.999 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:48:56.502 +03:00 [INF] OrdersAPI Add Order
2025-05-30 14:48:56.502 +03:00 [INF] OrdersBL AddOrder
2025-05-30 14:48:56.502 +03:00 [INF] OrderDA Add Order
2025-05-30 14:48:56.505 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 14:48:56.584 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:48:56.612 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:48:56.622 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 14:48:56.629 +03:00 [INF] CartDA Delete Cart
2025-05-30 14:48:56.647 +03:00 [INF] CartDA Cart Deleted
2025-05-30 14:49:12.008 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:49:12.008 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:49:12.008 +03:00 [INF] CartDA Update Cart
2025-05-30 14:49:12.009 +03:00 [INF] AuthBL Logout
2025-05-30 14:49:12.009 +03:00 [INF] ServAuth Logout
2025-05-30 14:49:12.039 +03:00 [WRN] CartDA Cart Not Found
2025-05-30 14:49:12.040 +03:00 [INF] CartsAPI There is no cart with this id so add new one
2025-05-30 14:49:12.040 +03:00 [INF] CartsBL Add Cart
2025-05-30 14:49:12.040 +03:00 [INF] CartDA Add Cart
2025-05-30 14:49:12.041 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 14:49:12.110 +03:00 [INF] CartDA Cart Added
2025-05-30 14:49:12.110 +03:00 [INF] CartDA Cart Items Added
2025-05-30 14:50:37.665 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:50:37.665 +03:00 [INF] AuthBL Login
2025-05-30 14:50:37.665 +03:00 [INF] ServAuth Login
2025-05-30 14:50:37.685 +03:00 [INF] ServPass Verifying password
2025-05-30 14:50:37.976 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:50:37.976 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:50:37.976 +03:00 [INF] ServAuth Creating token
2025-05-30 14:50:37.976 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:50:37.976 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:50:37.976 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:50:37.979 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:50:37.987 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:50:38.002 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:50:38.003 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:50:38.003 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:50:38.610 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:50:38.611 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:50:38.611 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:50:38.648 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:50:38.648 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:50:38.648 +03:00 [INF] ProductDA Get Products
2025-05-30 14:50:38.664 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:51:00.816 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:51:00.819 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:51:00.819 +03:00 [INF] CartDA Update Cart
2025-05-30 14:51:00.919 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:51:00.919 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:51:56.998 +03:00 [INF] AuthBL Logout
2025-05-30 14:51:56.998 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:51:56.998 +03:00 [INF] ServAuth Logout
2025-05-30 14:51:56.998 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:51:56.998 +03:00 [INF] CartDA Update Cart
2025-05-30 14:51:57.043 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 14:51:57.102 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:51:57.102 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:52:43.897 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:52:43.897 +03:00 [INF] AuthBL Login
2025-05-30 14:52:43.897 +03:00 [INF] ServAuth Login
2025-05-30 14:52:43.966 +03:00 [INF] ServPass Verifying password
2025-05-30 14:52:44.242 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:52:44.242 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:52:44.242 +03:00 [INF] ServAuth Creating token
2025-05-30 14:52:44.242 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:52:44.243 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:52:44.243 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:52:44.246 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:52:44.258 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:52:44.285 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:52:44.285 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:52:44.285 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:52:44.820 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:52:44.820 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:52:44.820 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:52:44.839 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:52:44.839 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:52:44.839 +03:00 [INF] ProductDA Get Products
2025-05-30 14:52:44.881 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:52:51.327 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:52:51.327 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:52:51.327 +03:00 [INF] CartDA Update Cart
2025-05-30 14:52:51.364 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:52:51.364 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:53:05.046 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:53:05.046 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:53:05.046 +03:00 [INF] CartDA Update Cart
2025-05-30 14:53:05.108 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:53:05.109 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:53:06.471 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:53:06.471 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:53:06.471 +03:00 [INF] CartDA Update Cart
2025-05-30 14:53:06.527 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:53:06.528 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:53:08.707 +03:00 [INF] OrdersAPI Add Order
2025-05-30 14:53:08.707 +03:00 [INF] OrdersBL AddOrder
2025-05-30 14:53:08.707 +03:00 [INF] OrderDA Add Order
2025-05-30 14:53:08.709 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 14:53:08.743 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:53:08.772 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:53:08.780 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 14:53:08.787 +03:00 [INF] CartDA Delete Cart
2025-05-30 14:53:08.804 +03:00 [INF] CartDA Cart Deleted
2025-05-30 14:53:28.691 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:53:28.691 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:53:28.691 +03:00 [INF] CartDA Update Cart
2025-05-30 14:53:28.694 +03:00 [INF] AuthBL Logout
2025-05-30 14:53:28.694 +03:00 [INF] ServAuth Logout
2025-05-30 14:53:28.697 +03:00 [WRN] CartDA Cart Not Found
2025-05-30 14:53:28.697 +03:00 [INF] CartsAPI There is no cart with this id so add new one
2025-05-30 14:53:28.697 +03:00 [INF] CartsBL Add Cart
2025-05-30 14:53:28.697 +03:00 [INF] CartDA Add Cart
2025-05-30 14:53:28.706 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 14:53:28.755 +03:00 [INF] CartDA Cart Added
2025-05-30 14:53:28.755 +03:00 [INF] CartDA Cart Items Added
2025-05-30 14:54:12.937 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:54:12.937 +03:00 [INF] AuthBL Login
2025-05-30 14:54:12.937 +03:00 [INF] ServAuth Login
2025-05-30 14:54:12.977 +03:00 [INF] ServPass Verifying password
2025-05-30 14:54:13.288 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 14:54:13.289 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:54:13.289 +03:00 [INF] ServAuth Creating token
2025-05-30 14:54:13.289 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:54:13.289 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:54:13.289 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:54:13.290 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:54:13.298 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:54:13.316 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:54:13.316 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:54:13.316 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:54:13.807 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:54:13.808 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:54:13.808 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:54:13.867 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:54:13.868 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:54:13.868 +03:00 [INF] ProductDA Get Products
2025-05-30 14:54:13.881 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:54:19.799 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:54:19.799 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:54:19.799 +03:00 [INF] CartDA Update Cart
2025-05-30 14:54:19.880 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:54:19.880 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:54:29.630 +03:00 [INF] AuthBL Logout
2025-05-30 14:54:29.630 +03:00 [INF] ServAuth Logout
2025-05-30 14:54:29.642 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 14:55:05.318 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 14:55:05.318 +03:00 [INF] AuthBL Login
2025-05-30 14:55:05.318 +03:00 [INF] ServAuth Login
2025-05-30 14:55:05.333 +03:00 [INF] ServPass Verifying password
2025-05-30 14:55:05.641 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 14:55:05.641 +03:00 [INF] ServAuth Creating token response
2025-05-30 14:55:05.641 +03:00 [INF] ServAuth Creating token
2025-05-30 14:55:05.641 +03:00 [INF] ServAuth Token created successfully
2025-05-30 14:55:05.642 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 14:55:05.642 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 14:55:05.644 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 14:55:05.651 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 14:55:05.679 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 14:55:05.679 +03:00 [INF] UsersBL GetUserById
2025-05-30 14:55:05.679 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:55:06.154 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 14:55:06.154 +03:00 [INF] CartsBL Get User Cart
2025-05-30 14:55:06.154 +03:00 [INF] CartDA Get User Cart
2025-05-30 14:55:06.171 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 14:55:06.171 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 14:55:06.171 +03:00 [INF] ProductDA Get Products
2025-05-30 14:55:06.216 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 14:55:20.187 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:55:20.187 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:55:20.187 +03:00 [INF] CartDA Update Cart
2025-05-30 14:55:20.269 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:55:20.269 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:55:34.036 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:55:34.036 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:55:34.036 +03:00 [INF] CartDA Update Cart
2025-05-30 14:55:34.125 +03:00 [INF] CartDA Cart Updated
2025-05-30 14:55:34.125 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 14:55:36.713 +03:00 [INF] OrdersAPI Add Order
2025-05-30 14:55:36.714 +03:00 [INF] OrdersBL AddOrder
2025-05-30 14:55:36.714 +03:00 [INF] OrderDA Add Order
2025-05-30 14:55:36.715 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 14:55:36.784 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:55:36.813 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:55:36.826 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 14:55:36.834 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 14:55:36.842 +03:00 [INF] CartDA Delete Cart
2025-05-30 14:55:36.863 +03:00 [INF] CartDA Cart Deleted
2025-05-30 14:55:40.156 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 14:55:40.156 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 14:55:40.156 +03:00 [INF] OrderDA Get User Orders
2025-05-30 14:55:40.156 +03:00 [INF] UserDA Getting user by id
2025-05-30 14:56:03.584 +03:00 [INF] AuthBL Logout
2025-05-30 14:56:03.584 +03:00 [INF] ServAuth Logout
2025-05-30 14:56:03.600 +03:00 [INF] CartsAPI Update Cart
2025-05-30 14:56:03.600 +03:00 [INF] CartsBL Update Cart
2025-05-30 14:56:03.600 +03:00 [INF] CartDA Update Cart
2025-05-30 14:56:03.668 +03:00 [WRN] CartDA Cart Not Found
2025-05-30 14:56:03.668 +03:00 [INF] CartsAPI There is no cart with this id so add new one
2025-05-30 14:56:03.668 +03:00 [INF] CartsBL Add Cart
2025-05-30 14:56:03.668 +03:00 [INF] CartDA Add Cart
2025-05-30 14:56:03.670 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 14:56:03.681 +03:00 [INF] CartDA Cart Added
2025-05-30 14:56:03.681 +03:00 [INF] CartDA Cart Items Added
2025-05-30 15:02:20.632 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:02:20.635 +03:00 [INF] AuthBL Login
2025-05-30 15:02:20.635 +03:00 [INF] ServAuth Login
2025-05-30 15:02:20.694 +03:00 [INF] ServPass Verifying password
2025-05-30 15:02:20.990 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:02:20.990 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:02:20.991 +03:00 [INF] ServAuth Creating token
2025-05-30 15:02:20.991 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:02:20.991 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:02:20.991 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:02:20.993 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:02:21.002 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:02:21.028 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:02:21.028 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:02:21.028 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:02:21.705 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:02:21.705 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:02:21.705 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:02:21.723 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:02:21.723 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:02:21.723 +03:00 [INF] ProductDA Get Products
2025-05-30 15:02:21.766 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:02:57.817 +03:00 [INF] AuthBL Logout
2025-05-30 15:02:57.817 +03:00 [INF] ServAuth Logout
2025-05-30 15:02:57.895 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:28:20.908 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:28:20.908 +03:00 [INF] AuthBL Login
2025-05-30 15:28:20.908 +03:00 [INF] ServAuth Login
2025-05-30 15:28:20.936 +03:00 [INF] ServPass Verifying password
2025-05-30 15:28:20.999 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:28:20.999 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:28:20.999 +03:00 [INF] ServAuth Creating token
2025-05-30 15:28:20.999 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:28:20.999 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:28:21.000 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:28:21.000 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:28:21.002 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:28:21.013 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:28:21.013 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:28:21.013 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:28:21.623 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:28:21.624 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:28:21.624 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:28:21.635 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:28:21.636 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:28:21.636 +03:00 [INF] ProductDA Get Products
2025-05-30 15:28:21.657 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:29:07.489 +03:00 [INF] CartsAPI Delete Cart
2025-05-30 15:29:07.489 +03:00 [INF] CartsBL Delete Cart
2025-05-30 15:29:07.490 +03:00 [INF] CartDA Delete Cart
2025-05-30 15:29:07.509 +03:00 [INF] CartDA Cart Deleted
2025-05-30 15:29:07.509 +03:00 [INF] CartsAPI Cart was deleted successfully
2025-05-30 15:29:11.334 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:29:11.334 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:29:11.334 +03:00 [INF] ProductDA Get Products
2025-05-30 15:29:11.345 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:29:24.683 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:29:24.684 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:29:24.684 +03:00 [INF] CartDA Update Cart
2025-05-30 15:29:24.685 +03:00 [INF] AuthBL Logout
2025-05-30 15:29:24.685 +03:00 [INF] ServAuth Logout
2025-05-30 15:29:24.695 +03:00 [WRN] CartDA Cart Not Found
2025-05-30 15:29:24.696 +03:00 [INF] CartsAPI There is no cart with this id so add new one
2025-05-30 15:29:24.696 +03:00 [INF] CartsBL Add Cart
2025-05-30 15:29:24.696 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:29:24.696 +03:00 [INF] CartDA Add Cart
2025-05-30 15:29:24.707 +03:00 [INF] CartDA Cart Added
2025-05-30 15:29:24.707 +03:00 [INF] CartDA Cart Items Added
2025-05-30 15:30:16.985 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:30:16.985 +03:00 [INF] AuthBL Login
2025-05-30 15:30:16.985 +03:00 [INF] ServAuth Login
2025-05-30 15:30:17.004 +03:00 [INF] ServPass Verifying password
2025-05-30 15:30:17.066 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:30:17.066 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:30:17.066 +03:00 [INF] ServAuth Creating token
2025-05-30 15:30:17.066 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:30:17.066 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:30:17.066 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:30:17.067 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:30:17.070 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:30:17.081 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:30:17.081 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:30:17.081 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:30:17.542 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:30:17.542 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:30:17.542 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:30:17.553 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:30:17.553 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:30:17.553 +03:00 [INF] ProductDA Get Products
2025-05-30 15:30:17.562 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:30:19.661 +03:00 [INF] AuthBL Logout
2025-05-30 15:30:19.661 +03:00 [INF] ServAuth Logout
2025-05-30 15:30:19.666 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:30:57.825 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:30:57.825 +03:00 [INF] AuthBL Login
2025-05-30 15:30:57.825 +03:00 [INF] ServAuth Login
2025-05-30 15:30:57.832 +03:00 [INF] ServPass Verifying password
2025-05-30 15:30:57.894 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:30:57.894 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:30:57.894 +03:00 [INF] ServAuth Creating token
2025-05-30 15:30:57.895 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:30:57.895 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:30:57.895 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:30:57.895 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:30:57.897 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:30:57.907 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:30:57.907 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:30:57.907 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:30:58.343 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:30:58.343 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:30:58.343 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:30:58.358 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:30:58.358 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:30:58.358 +03:00 [INF] ProductDA Get Products
2025-05-30 15:30:58.363 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:31:08.661 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:31:08.662 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:31:08.662 +03:00 [INF] CartDA Update Cart
2025-05-30 15:31:08.662 +03:00 [INF] AuthBL Logout
2025-05-30 15:31:08.662 +03:00 [INF] ServAuth Logout
2025-05-30 15:31:08.678 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:31:08.682 +03:00 [INF] CartDA Delete Cart
2025-05-30 15:31:08.694 +03:00 [INF] CartDA Cart Deleted
2025-05-30 15:31:08.694 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 15:31:08.694 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 15:31:16.591 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:31:16.591 +03:00 [INF] AuthBL Login
2025-05-30 15:31:16.591 +03:00 [INF] ServAuth Login
2025-05-30 15:31:16.603 +03:00 [INF] ServPass Verifying password
2025-05-30 15:31:16.665 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 15:31:16.666 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:31:16.666 +03:00 [INF] ServAuth Creating token
2025-05-30 15:31:16.666 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:31:16.666 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:31:16.666 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:31:16.667 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:31:16.669 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:31:16.680 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:31:16.680 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:31:16.680 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:31:16.981 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:31:16.981 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:31:16.981 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:31:16.990 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:31:16.990 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:31:16.990 +03:00 [INF] ProductDA Get Products
2025-05-30 15:31:16.998 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:31:29.274 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:31:29.275 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:31:29.275 +03:00 [INF] CartDA Update Cart
2025-05-30 15:31:29.275 +03:00 [INF] AuthBL Logout
2025-05-30 15:31:29.275 +03:00 [INF] ServAuth Logout
2025-05-30 15:31:29.279 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 15:31:29.289 +03:00 [INF] CartDA Delete Cart
2025-05-30 15:31:29.304 +03:00 [INF] CartDA Cart Deleted
2025-05-30 15:31:29.304 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 15:31:29.305 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 15:32:48.226 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:32:48.226 +03:00 [INF] AuthBL Login
2025-05-30 15:32:48.226 +03:00 [INF] ServAuth Login
2025-05-30 15:32:48.244 +03:00 [INF] ServPass Verifying password
2025-05-30 15:32:48.311 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 15:32:48.311 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:32:48.311 +03:00 [INF] ServAuth Creating token
2025-05-30 15:32:48.311 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:32:48.311 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:32:48.311 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:32:48.312 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:32:48.316 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:32:48.327 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:32:48.327 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:32:48.327 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:32:48.692 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:32:48.692 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:32:48.692 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:32:48.702 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:32:48.702 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:32:48.702 +03:00 [INF] ProductDA Get Products
2025-05-30 15:32:48.711 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:32:48.711 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 15:33:54.966 +03:00 [INF] AuthBL Logout
2025-05-30 15:33:54.990 +03:00 [INF] ServAuth Logout
2025-05-30 15:33:54.993 +03:00 [INF] CartsAPI Add Cart
2025-05-30 15:33:54.993 +03:00 [INF] CartsBL Add Cart
2025-05-30 15:33:54.993 +03:00 [INF] CartDA Add Cart
2025-05-30 15:33:55.004 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 15:33:55.006 +03:00 [INF] CartDA Cart Added
2025-05-30 15:33:55.006 +03:00 [INF] CartDA Cart Items Added
2025-05-30 15:33:55.006 +03:00 [INF] CartsAPI Cart was added with id 477
2025-05-30 15:34:03.387 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:34:03.387 +03:00 [INF] AuthBL Login
2025-05-30 15:34:03.387 +03:00 [INF] ServAuth Login
2025-05-30 15:34:03.390 +03:00 [INF] ServPass Verifying password
2025-05-30 15:34:03.453 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:34:03.453 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:34:03.453 +03:00 [INF] ServAuth Creating token
2025-05-30 15:34:03.453 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:34:03.453 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:34:03.453 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:34:03.454 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:34:03.456 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:34:03.466 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:34:03.466 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:34:03.466 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:34:03.791 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:34:03.791 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:34:03.791 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:34:03.802 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:34:03.802 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:34:03.802 +03:00 [INF] ProductDA Get Products
2025-05-30 15:34:03.805 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 15:34:03.811 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:35:00.583 +03:00 [INF] AuthBL Logout
2025-05-30 15:35:00.584 +03:00 [INF] ServAuth Logout
2025-05-30 15:35:00.586 +03:00 [INF] CartsAPI Add Cart
2025-05-30 15:35:00.586 +03:00 [INF] CartsBL Add Cart
2025-05-30 15:35:00.586 +03:00 [INF] CartDA Add Cart
2025-05-30 15:35:00.598 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:35:00.601 +03:00 [INF] CartDA Cart Added
2025-05-30 15:35:00.601 +03:00 [INF] CartDA Cart Items Added
2025-05-30 15:35:00.601 +03:00 [INF] CartsAPI Cart was added with id 478
2025-05-30 15:36:34.728 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:36:34.728 +03:00 [INF] AuthBL Login
2025-05-30 15:36:34.728 +03:00 [INF] ServAuth Login
2025-05-30 15:36:34.744 +03:00 [INF] ServPass Verifying password
2025-05-30 15:36:34.814 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:36:34.814 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:36:34.814 +03:00 [INF] ServAuth Creating token
2025-05-30 15:36:34.814 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:36:34.814 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:36:34.814 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:36:34.815 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:36:34.819 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:36:34.858 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:36:34.858 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:36:34.858 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:36:35.151 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:36:35.151 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:36:35.151 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:36:35.162 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:36:35.162 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:36:35.162 +03:00 [INF] ProductDA Get Products
2025-05-30 15:36:35.171 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:39:06.854 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:39:06.854 +03:00 [INF] AuthBL Login
2025-05-30 15:39:06.854 +03:00 [INF] ServAuth Login
2025-05-30 15:39:06.872 +03:00 [INF] ServPass Verifying password
2025-05-30 15:39:06.937 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:39:06.937 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:39:06.937 +03:00 [INF] ServAuth Creating token
2025-05-30 15:39:06.937 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:39:06.937 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:39:06.937 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:39:06.938 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:39:06.940 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:39:06.950 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:39:06.950 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:39:06.950 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:39:07.310 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:39:07.310 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:39:07.310 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:39:07.322 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:39:07.322 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:39:07.322 +03:00 [INF] ProductDA Get Products
2025-05-30 15:39:07.332 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:39:39.636 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:39:39.636 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:39:39.636 +03:00 [INF] CartDA Update Cart
2025-05-30 15:39:39.637 +03:00 [INF] AuthBL Logout
2025-05-30 15:39:39.639 +03:00 [INF] ServAuth Logout
2025-05-30 15:39:39.648 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:39:39.663 +03:00 [INF] CartDA Delete Cart
2025-05-30 15:39:39.674 +03:00 [INF] CartDA Cart Deleted
2025-05-30 15:39:39.674 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 15:39:39.674 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 15:40:20.806 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:40:20.806 +03:00 [INF] AuthBL Login
2025-05-30 15:40:20.806 +03:00 [INF] ServAuth Login
2025-05-30 15:40:20.829 +03:00 [INF] ServPass Verifying password
2025-05-30 15:40:20.890 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:40:20.890 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:40:20.890 +03:00 [INF] ServAuth Creating token
2025-05-30 15:40:20.890 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:40:20.890 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:40:20.890 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:40:20.891 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:40:20.893 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:40:20.904 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:40:20.905 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:40:20.905 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:40:21.309 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:40:21.309 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:40:21.309 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:40:21.318 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:40:21.318 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:40:21.318 +03:00 [INF] ProductDA Get Products
2025-05-30 15:40:21.324 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 15:40:21.328 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:40:59.001 +03:00 [INF] CartsAPI Add Cart
2025-05-30 15:40:59.002 +03:00 [INF] CartsBL Add Cart
2025-05-30 15:40:59.002 +03:00 [INF] CartDA Add Cart
2025-05-30 15:40:59.006 +03:00 [INF] AuthBL Logout
2025-05-30 15:40:59.006 +03:00 [INF] ServAuth Logout
2025-05-30 15:40:59.023 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:40:59.023 +03:00 [INF] CartDA Cart Added
2025-05-30 15:40:59.042 +03:00 [INF] CartDA Cart Items Added
2025-05-30 15:40:59.042 +03:00 [INF] CartsAPI Cart was added with id 479
2025-05-30 15:41:57.497 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:41:57.498 +03:00 [INF] AuthBL Login
2025-05-30 15:41:57.498 +03:00 [INF] ServAuth Login
2025-05-30 15:41:57.514 +03:00 [INF] ServPass Verifying password
2025-05-30 15:41:57.579 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:41:57.579 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:41:57.579 +03:00 [INF] ServAuth Creating token
2025-05-30 15:41:57.579 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:41:57.579 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:41:57.579 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:41:57.580 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:41:57.583 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:41:57.596 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:41:57.596 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:41:57.596 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:42:01.087 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:42:01.087 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:42:01.087 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:42:01.099 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:42:01.099 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:42:01.099 +03:00 [INF] ProductDA Get Products
2025-05-30 15:42:01.108 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:42:17.879 +03:00 [INF] AuthBL Logout
2025-05-30 15:42:17.879 +03:00 [INF] ServAuth Logout
2025-05-30 15:42:17.886 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:42:17.887 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:42:17.887 +03:00 [INF] CartDA Update Cart
2025-05-30 15:42:17.889 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:42:17.928 +03:00 [INF] CartDA Cart Updated
2025-05-30 15:42:17.928 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 15:43:05.179 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:43:05.179 +03:00 [INF] AuthBL Login
2025-05-30 15:43:05.179 +03:00 [INF] ServAuth Login
2025-05-30 15:43:05.190 +03:00 [INF] ServPass Verifying password
2025-05-30 15:43:05.257 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:43:05.257 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:43:05.257 +03:00 [INF] ServAuth Creating token
2025-05-30 15:43:05.257 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:43:05.257 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:43:05.257 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:43:05.258 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:43:05.259 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:43:05.270 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:43:05.270 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:43:05.270 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:43:05.607 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:43:05.607 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:43:05.607 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:43:05.618 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:43:05.618 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:43:05.618 +03:00 [INF] ProductDA Get Products
2025-05-30 15:43:05.627 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:43:08.632 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:43:08.632 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:43:08.633 +03:00 [INF] CartDA Update Cart
2025-05-30 15:43:08.633 +03:00 [INF] AuthBL Logout
2025-05-30 15:43:08.633 +03:00 [INF] ServAuth Logout
2025-05-30 15:43:08.644 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:43:08.659 +03:00 [INF] CartDA Cart Updated
2025-05-30 15:43:08.659 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 15:43:32.978 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:43:32.978 +03:00 [INF] AuthBL Login
2025-05-30 15:43:32.978 +03:00 [INF] ServAuth Login
2025-05-30 15:43:32.989 +03:00 [INF] ServPass Verifying password
2025-05-30 15:43:33.053 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:43:33.053 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:43:33.053 +03:00 [INF] ServAuth Creating token
2025-05-30 15:43:33.053 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:43:33.053 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:43:33.053 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:43:33.054 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:43:33.057 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:43:33.069 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:43:33.069 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:43:33.069 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:43:33.408 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:43:33.408 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:43:33.408 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:43:33.417 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:43:33.417 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:43:33.417 +03:00 [INF] ProductDA Get Products
2025-05-30 15:43:33.430 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:44:06.716 +03:00 [INF] AuthBL Logout
2025-05-30 15:44:06.716 +03:00 [INF] ServAuth Logout
2025-05-30 15:44:06.722 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:44:06.722 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:44:06.722 +03:00 [INF] CartDA Update Cart
2025-05-30 15:44:06.729 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:44:06.746 +03:00 [INF] CartDA Cart Updated
2025-05-30 15:44:06.746 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 15:44:42.431 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:44:42.431 +03:00 [INF] AuthBL Login
2025-05-30 15:44:42.431 +03:00 [INF] ServAuth Login
2025-05-30 15:44:42.443 +03:00 [WRN] ServAuth Login failed
2025-05-30 15:44:42.443 +03:00 [WRN] AuthAPI Invalid username or password
2025-05-30 15:44:47.341 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:44:47.341 +03:00 [INF] AuthBL Login
2025-05-30 15:44:47.341 +03:00 [INF] ServAuth Login
2025-05-30 15:44:47.348 +03:00 [INF] ServPass Verifying password
2025-05-30 15:44:47.412 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:44:47.412 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:44:47.412 +03:00 [INF] ServAuth Creating token
2025-05-30 15:44:47.412 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:44:47.413 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:44:47.413 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:44:47.414 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:44:47.418 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:44:47.427 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:44:47.427 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:44:47.427 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:44:47.742 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:44:47.742 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:44:47.742 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:44:47.751 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:44:47.751 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:44:47.751 +03:00 [INF] ProductDA Get Products
2025-05-30 15:44:47.760 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:44:59.130 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:44:59.130 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:44:59.130 +03:00 [INF] AuthBL Logout
2025-05-30 15:44:59.130 +03:00 [INF] CartDA Update Cart
2025-05-30 15:44:59.130 +03:00 [INF] ServAuth Logout
2025-05-30 15:44:59.135 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:44:59.161 +03:00 [INF] CartDA Cart Updated
2025-05-30 15:44:59.161 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 15:48:35.060 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:48:35.061 +03:00 [INF] AuthBL Login
2025-05-30 15:48:35.061 +03:00 [INF] ServAuth Login
2025-05-30 15:48:35.084 +03:00 [INF] ServPass Verifying password
2025-05-30 15:48:35.148 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:48:35.148 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:48:35.148 +03:00 [INF] ServAuth Creating token
2025-05-30 15:48:35.149 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:48:35.149 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:48:35.149 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:48:35.149 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:48:35.153 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:48:35.163 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:48:35.163 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:48:35.163 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:48:35.439 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:48:35.439 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:48:35.439 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:48:35.449 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:48:35.449 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:48:35.449 +03:00 [INF] ProductDA Get Products
2025-05-30 15:48:35.471 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:48:40.810 +03:00 [INF] CartsAPI Update Cart
2025-05-30 15:48:40.811 +03:00 [INF] CartsBL Update Cart
2025-05-30 15:48:40.811 +03:00 [INF] CartDA Update Cart
2025-05-30 15:48:40.812 +03:00 [INF] AuthBL Logout
2025-05-30 15:48:40.812 +03:00 [INF] ServAuth Logout
2025-05-30 15:48:40.836 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 15:48:40.867 +03:00 [INF] CartDA Cart Updated
2025-05-30 15:48:40.869 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 15:49:43.492 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:49:43.493 +03:00 [INF] AuthBL Login
2025-05-30 15:49:43.493 +03:00 [INF] ServAuth Login
2025-05-30 15:49:43.515 +03:00 [INF] ServPass Verifying password
2025-05-30 15:49:43.577 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:49:43.577 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:49:43.577 +03:00 [INF] ServAuth Creating token
2025-05-30 15:49:43.577 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:49:43.577 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:49:43.577 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:49:43.578 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:49:43.580 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:49:43.591 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:49:43.591 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:49:43.591 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:49:43.782 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:49:43.782 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:49:43.782 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:49:43.791 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:49:43.791 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:49:43.791 +03:00 [INF] ProductDA Get Products
2025-05-30 15:49:43.800 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:50:11.386 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:50:11.386 +03:00 [INF] AuthBL Login
2025-05-30 15:50:11.386 +03:00 [INF] ServAuth Login
2025-05-30 15:50:11.414 +03:00 [INF] ServPass Verifying password
2025-05-30 15:50:11.475 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:50:11.476 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:50:11.476 +03:00 [INF] ServAuth Creating token
2025-05-30 15:50:11.476 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:50:11.476 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:50:11.476 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:50:11.476 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:50:11.478 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:50:11.491 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:50:11.491 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:50:11.491 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:50:11.719 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:50:11.719 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:50:11.719 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:50:11.729 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:50:11.729 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:50:11.729 +03:00 [INF] ProductDA Get Products
2025-05-30 15:50:11.739 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:52:37.613 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:52:37.613 +03:00 [INF] AuthBL Login
2025-05-30 15:52:37.613 +03:00 [INF] ServAuth Login
2025-05-30 15:52:37.629 +03:00 [INF] ServPass Verifying password
2025-05-30 15:52:37.692 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:52:37.692 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:52:37.692 +03:00 [INF] ServAuth Creating token
2025-05-30 15:52:37.692 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:52:37.692 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:52:37.692 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:52:37.693 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:52:37.695 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:52:37.724 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:52:37.724 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:52:37.724 +03:00 [INF] UserDA Getting user by id
2025-05-30 15:52:38.118 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 15:52:38.118 +03:00 [INF] CartsBL Get User Cart
2025-05-30 15:52:38.118 +03:00 [INF] CartDA Get User Cart
2025-05-30 15:52:38.127 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 15:52:38.127 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 15:52:38.127 +03:00 [INF] ProductDA Get Products
2025-05-30 15:52:38.138 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 15:59:59.776 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 15:59:59.776 +03:00 [INF] AuthBL Login
2025-05-30 15:59:59.776 +03:00 [INF] ServAuth Login
2025-05-30 15:59:59.797 +03:00 [INF] ServPass Verifying password
2025-05-30 15:59:59.858 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 15:59:59.858 +03:00 [INF] ServAuth Creating token response
2025-05-30 15:59:59.858 +03:00 [INF] ServAuth Creating token
2025-05-30 15:59:59.858 +03:00 [INF] ServAuth Token created successfully
2025-05-30 15:59:59.859 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 15:59:59.859 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 15:59:59.859 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 15:59:59.861 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 15:59:59.890 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 15:59:59.890 +03:00 [INF] UsersBL GetUserById
2025-05-30 15:59:59.890 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:00:00.235 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:00:00.235 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:00:00.235 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:00:00.245 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:00:00.245 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:00:00.245 +03:00 [INF] ProductDA Get Products
2025-05-30 16:00:00.269 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:02:29.883 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 16:02:29.883 +03:00 [INF] AuthBL Login
2025-05-30 16:02:29.883 +03:00 [INF] ServAuth Login
2025-05-30 16:02:29.897 +03:00 [INF] ServPass Verifying password
2025-05-30 16:02:29.961 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 16:02:29.961 +03:00 [INF] ServAuth Creating token response
2025-05-30 16:02:29.961 +03:00 [INF] ServAuth Creating token
2025-05-30 16:02:29.961 +03:00 [INF] ServAuth Token created successfully
2025-05-30 16:02:29.961 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 16:02:29.961 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 16:02:29.962 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 16:02:29.964 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 16:02:29.992 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 16:02:29.992 +03:00 [INF] UsersBL GetUserById
2025-05-30 16:02:29.992 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:02:30.197 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:02:30.197 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:02:30.197 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:02:30.206 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:02:30.206 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:02:30.206 +03:00 [INF] ProductDA Get Products
2025-05-30 16:02:30.218 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:03:17.302 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 16:03:17.302 +03:00 [INF] AuthBL Login
2025-05-30 16:03:17.302 +03:00 [INF] ServAuth Login
2025-05-30 16:03:17.315 +03:00 [INF] ServPass Verifying password
2025-05-30 16:03:17.380 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 16:03:17.380 +03:00 [INF] ServAuth Creating token response
2025-05-30 16:03:17.380 +03:00 [INF] ServAuth Creating token
2025-05-30 16:03:17.380 +03:00 [INF] ServAuth Token created successfully
2025-05-30 16:03:17.380 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 16:03:17.380 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 16:03:17.381 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 16:03:17.383 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 16:03:17.411 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 16:03:17.411 +03:00 [INF] UsersBL GetUserById
2025-05-30 16:03:17.411 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:03:17.751 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:03:17.751 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:03:17.751 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:03:17.762 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:03:17.762 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:03:17.762 +03:00 [INF] ProductDA Get Products
2025-05-30 16:03:17.772 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:07:08.065 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 16:07:08.065 +03:00 [INF] AuthBL Login
2025-05-30 16:07:08.065 +03:00 [INF] ServAuth Login
2025-05-30 16:07:08.090 +03:00 [INF] ServPass Verifying password
2025-05-30 16:07:08.153 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 16:07:08.153 +03:00 [INF] ServAuth Creating token response
2025-05-30 16:07:08.153 +03:00 [INF] ServAuth Creating token
2025-05-30 16:07:08.153 +03:00 [INF] ServAuth Token created successfully
2025-05-30 16:07:08.153 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 16:07:08.153 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 16:07:08.154 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 16:07:08.156 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 16:07:08.188 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 16:07:08.188 +03:00 [INF] UsersBL GetUserById
2025-05-30 16:07:08.188 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:07:08.432 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:07:08.432 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:07:08.432 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:07:08.443 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:07:08.443 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:07:08.443 +03:00 [INF] ProductDA Get Products
2025-05-30 16:07:08.464 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:09:30.443 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 16:09:30.443 +03:00 [INF] AuthBL Login
2025-05-30 16:09:30.443 +03:00 [INF] ServAuth Login
2025-05-30 16:09:30.460 +03:00 [INF] ServPass Verifying password
2025-05-30 16:09:30.527 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 16:09:30.527 +03:00 [INF] ServAuth Creating token response
2025-05-30 16:09:30.527 +03:00 [INF] ServAuth Creating token
2025-05-30 16:09:30.527 +03:00 [INF] ServAuth Token created successfully
2025-05-30 16:09:30.527 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 16:09:30.527 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 16:09:30.528 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 16:09:30.530 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 16:09:30.560 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 16:09:30.560 +03:00 [INF] UsersBL GetUserById
2025-05-30 16:09:30.560 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:09:30.886 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:09:30.886 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:09:30.886 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:09:30.897 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:09:30.897 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:09:30.897 +03:00 [INF] ProductDA Get Products
2025-05-30 16:09:30.906 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:10:59.841 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 16:10:59.842 +03:00 [INF] AuthBL Login
2025-05-30 16:10:59.842 +03:00 [INF] ServAuth Login
2025-05-30 16:10:59.860 +03:00 [INF] ServPass Verifying password
2025-05-30 16:10:59.922 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 16:10:59.922 +03:00 [INF] ServAuth Creating token response
2025-05-30 16:10:59.922 +03:00 [INF] ServAuth Creating token
2025-05-30 16:10:59.922 +03:00 [INF] ServAuth Token created successfully
2025-05-30 16:10:59.922 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 16:10:59.922 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 16:10:59.923 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 16:10:59.925 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 16:10:59.972 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 16:10:59.972 +03:00 [INF] UsersBL GetUserById
2025-05-30 16:10:59.972 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:11:00.297 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:11:00.297 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:11:00.297 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:11:00.307 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:11:00.307 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:11:00.307 +03:00 [INF] ProductDA Get Products
2025-05-30 16:11:00.316 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:23:54.906 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 16:23:54.907 +03:00 [INF] AuthBL Login
2025-05-30 16:23:54.907 +03:00 [INF] ServAuth Login
2025-05-30 16:23:54.929 +03:00 [INF] ServPass Verifying password
2025-05-30 16:23:54.992 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 16:23:54.993 +03:00 [INF] ServAuth Creating token response
2025-05-30 16:23:54.993 +03:00 [INF] ServAuth Creating token
2025-05-30 16:23:54.993 +03:00 [INF] ServAuth Token created successfully
2025-05-30 16:23:54.993 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 16:23:54.993 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 16:23:54.993 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 16:23:54.996 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 16:23:55.060 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 16:23:55.060 +03:00 [INF] UsersBL GetUserById
2025-05-30 16:23:55.060 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:23:55.292 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:23:55.292 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:23:55.292 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:23:55.301 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:23:55.301 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:23:55.301 +03:00 [INF] ProductDA Get Products
2025-05-30 16:23:55.322 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:24:09.818 +03:00 [INF] CartsAPI Update Cart
2025-05-30 16:24:09.818 +03:00 [INF] CartsBL Update Cart
2025-05-30 16:24:09.818 +03:00 [INF] CartDA Update Cart
2025-05-30 16:24:09.818 +03:00 [INF] AuthBL Logout
2025-05-30 16:24:09.818 +03:00 [INF] ServAuth Logout
2025-05-30 16:24:09.838 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 16:24:09.861 +03:00 [INF] CartDA Cart Updated
2025-05-30 16:24:09.861 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 16:24:24.574 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 16:24:24.574 +03:00 [INF] AuthBL Login
2025-05-30 16:24:24.574 +03:00 [INF] ServAuth Login
2025-05-30 16:24:24.585 +03:00 [INF] ServPass Verifying password
2025-05-30 16:24:24.651 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 16:24:24.651 +03:00 [INF] ServAuth Creating token response
2025-05-30 16:24:24.651 +03:00 [INF] ServAuth Creating token
2025-05-30 16:24:24.651 +03:00 [INF] ServAuth Token created successfully
2025-05-30 16:24:24.651 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 16:24:24.651 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 16:24:24.652 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 16:24:24.653 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 16:24:24.701 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 16:24:24.701 +03:00 [INF] UsersBL GetUserById
2025-05-30 16:24:24.701 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:24:25.031 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:24:25.032 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:24:25.032 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:24:25.043 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:24:25.043 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:24:25.043 +03:00 [INF] ProductDA Get Products
2025-05-30 16:24:25.053 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:25:59.381 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 16:25:59.381 +03:00 [INF] AuthBL Login
2025-05-30 16:25:59.381 +03:00 [INF] ServAuth Login
2025-05-30 16:25:59.400 +03:00 [INF] ServPass Verifying password
2025-05-30 16:25:59.464 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 16:25:59.464 +03:00 [INF] ServAuth Creating token response
2025-05-30 16:25:59.464 +03:00 [INF] ServAuth Creating token
2025-05-30 16:25:59.464 +03:00 [INF] ServAuth Token created successfully
2025-05-30 16:25:59.464 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 16:25:59.464 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 16:25:59.465 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 16:25:59.467 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 16:25:59.526 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 16:25:59.526 +03:00 [INF] UsersBL GetUserById
2025-05-30 16:25:59.526 +03:00 [INF] UserDA Getting user by id
2025-05-30 16:25:59.963 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 16:25:59.963 +03:00 [INF] CartsBL Get User Cart
2025-05-30 16:25:59.964 +03:00 [INF] CartDA Get User Cart
2025-05-30 16:25:59.974 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 16:25:59.974 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 16:25:59.974 +03:00 [INF] ProductDA Get Products
2025-05-30 16:25:59.982 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 16:28:56.586 +03:00 [INF] AuthBL Logout
2025-05-30 16:28:56.586 +03:00 [INF] ServAuth Logout
2025-05-30 16:28:56.589 +03:00 [INF] CartsAPI Update Cart
2025-05-30 16:28:56.590 +03:00 [INF] CartsBL Update Cart
2025-05-30 16:28:56.590 +03:00 [INF] CartDA Update Cart
2025-05-30 16:28:56.605 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 16:28:56.638 +03:00 [INF] CartDA Cart Updated
2025-05-30 16:28:56.638 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 17:04:21.921 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 17:04:21.922 +03:00 [INF] AuthBL Login
2025-05-30 17:04:21.922 +03:00 [INF] ServAuth Login
2025-05-30 17:04:21.956 +03:00 [INF] ServPass Verifying password
2025-05-30 17:04:22.072 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 17:04:22.072 +03:00 [INF] ServAuth Creating token response
2025-05-30 17:04:22.072 +03:00 [INF] ServAuth Creating token
2025-05-30 17:04:22.072 +03:00 [INF] ServAuth Token created successfully
2025-05-30 17:04:22.072 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 17:04:22.072 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 17:04:22.073 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 17:04:22.079 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 17:04:22.576 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 17:04:22.576 +03:00 [INF] UsersBL GetUserById
2025-05-30 17:04:22.576 +03:00 [INF] UserDA Getting user by id
2025-05-30 17:04:28.822 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 17:04:28.822 +03:00 [INF] CartsBL Get User Cart
2025-05-30 17:04:28.822 +03:00 [INF] CartDA Get User Cart
2025-05-30 17:04:28.850 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 17:04:28.850 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 17:04:28.850 +03:00 [INF] ProductDA Get Products
2025-05-30 17:04:28.890 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 17:04:32.332 +03:00 [INF] CartsAPI Update Cart
2025-05-30 17:04:32.332 +03:00 [INF] CartsBL Update Cart
2025-05-30 17:04:32.333 +03:00 [INF] CartDA Update Cart
2025-05-30 17:04:32.338 +03:00 [INF] AuthBL Logout
2025-05-30 17:04:32.338 +03:00 [INF] ServAuth Logout
2025-05-30 17:04:32.347 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 17:04:32.388 +03:00 [INF] CartDA Cart Updated
2025-05-30 17:04:32.388 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 17:13:20.298 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 17:13:20.299 +03:00 [INF] AuthBL Login
2025-05-30 17:13:20.299 +03:00 [INF] ServAuth Login
2025-05-30 17:13:20.379 +03:00 [INF] ServPass Verifying password
2025-05-30 17:13:20.543 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 17:13:20.544 +03:00 [INF] ServAuth Creating token response
2025-05-30 17:13:20.545 +03:00 [INF] ServAuth Creating token
2025-05-30 17:13:20.545 +03:00 [INF] ServAuth Token created successfully
2025-05-30 17:13:20.545 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 17:13:20.545 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 17:13:20.546 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 17:13:20.552 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 17:13:20.738 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 17:13:20.738 +03:00 [INF] UsersBL GetUserById
2025-05-30 17:13:20.738 +03:00 [INF] UserDA Getting user by id
2025-05-30 17:13:21.276 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 17:13:21.276 +03:00 [INF] CartsBL Get User Cart
2025-05-30 17:13:21.276 +03:00 [INF] CartDA Get User Cart
2025-05-30 17:13:21.298 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 17:13:21.298 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 17:13:21.298 +03:00 [INF] ProductDA Get Products
2025-05-30 17:13:21.334 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 17:13:24.349 +03:00 [INF] CartsAPI Update Cart
2025-05-30 17:13:24.349 +03:00 [INF] CartsBL Update Cart
2025-05-30 17:13:24.349 +03:00 [INF] CartDA Update Cart
2025-05-30 17:13:24.349 +03:00 [INF] AuthBL Logout
2025-05-30 17:13:24.349 +03:00 [INF] ServAuth Logout
2025-05-30 17:13:24.356 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 17:13:24.416 +03:00 [INF] CartDA Cart Updated
2025-05-30 17:13:24.416 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 18:14:16.055 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 18:14:16.059 +03:00 [INF] AuthBL Login
2025-05-30 18:14:16.059 +03:00 [INF] ServAuth Login
2025-05-30 18:14:16.176 +03:00 [INF] ServPass Verifying password
2025-05-30 18:14:16.324 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 18:14:16.324 +03:00 [INF] ServAuth Creating token response
2025-05-30 18:14:16.324 +03:00 [INF] ServAuth Creating token
2025-05-30 18:14:16.325 +03:00 [INF] ServAuth Token created successfully
2025-05-30 18:14:16.325 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 18:14:16.325 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 18:14:16.326 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 18:14:16.333 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 18:14:16.357 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 18:14:16.357 +03:00 [INF] UsersBL GetUserById
2025-05-30 18:14:16.357 +03:00 [INF] UserDA Getting user by id
2025-05-30 18:14:17.025 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 18:14:17.025 +03:00 [INF] CartsBL Get User Cart
2025-05-30 18:14:17.025 +03:00 [INF] CartDA Get User Cart
2025-05-30 18:14:17.047 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 18:14:17.048 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 18:14:17.048 +03:00 [INF] ProductDA Get Products
2025-05-30 18:14:17.093 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 18:14:23.601 +03:00 [INF] AuthBL Logout
2025-05-30 18:14:23.601 +03:00 [INF] ServAuth Logout
2025-05-30 18:14:23.609 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 18:14:23.627 +03:00 [INF] CartsAPI Add Cart
2025-05-30 18:14:23.627 +03:00 [INF] CartsBL Add Cart
2025-05-30 18:14:23.627 +03:00 [INF] CartDA Add Cart
2025-05-30 18:14:23.627 +03:00 [INF] AuthBL Logout
2025-05-30 18:14:23.627 +03:00 [INF] ServAuth Logout
2025-05-30 18:14:23.644 +03:00 [WRN] ServAuth Logout failed
2025-05-30 18:14:24.253 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c5b352b8-702e-4322-ab95-b2f9884feaa7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 18:14:41.794 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 18:14:41.794 +03:00 [INF] AuthBL Login
2025-05-30 18:14:41.794 +03:00 [INF] ServAuth Login
2025-05-30 18:14:41.797 +03:00 [INF] ServPass Verifying password
2025-05-30 18:14:41.969 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 18:14:41.969 +03:00 [INF] ServAuth Creating token response
2025-05-30 18:14:41.970 +03:00 [INF] ServAuth Creating token
2025-05-30 18:14:41.970 +03:00 [INF] ServAuth Token created successfully
2025-05-30 18:14:41.970 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 18:14:41.970 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 18:14:41.972 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 18:14:41.976 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 18:14:42.004 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 18:14:42.004 +03:00 [INF] UsersBL GetUserById
2025-05-30 18:14:42.004 +03:00 [INF] UserDA Getting user by id
2025-05-30 18:14:42.461 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 18:14:42.461 +03:00 [INF] CartsBL Get User Cart
2025-05-30 18:14:42.461 +03:00 [INF] CartDA Get User Cart
2025-05-30 18:14:42.478 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 18:14:42.478 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 18:14:42.478 +03:00 [INF] ProductDA Get Products
2025-05-30 18:14:42.485 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 18:14:54.776 +03:00 [INF] CartsAPI Update Cart
2025-05-30 18:14:54.777 +03:00 [INF] CartsBL Update Cart
2025-05-30 18:14:54.777 +03:00 [INF] CartDA Update Cart
2025-05-30 18:14:54.777 +03:00 [INF] AuthBL Logout
2025-05-30 18:14:54.777 +03:00 [INF] ServAuth Logout
2025-05-30 18:14:54.794 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 18:14:54.845 +03:00 [INF] CartDA Cart Updated
2025-05-30 18:14:54.845 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 18:23:48.356 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 18:23:48.356 +03:00 [INF] AuthBL Login
2025-05-30 18:23:48.356 +03:00 [INF] ServAuth Login
2025-05-30 18:23:48.373 +03:00 [INF] ServPass Verifying password
2025-05-30 18:23:48.437 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 18:23:48.438 +03:00 [INF] ServAuth Creating token response
2025-05-30 18:23:48.438 +03:00 [INF] ServAuth Creating token
2025-05-30 18:23:48.438 +03:00 [INF] ServAuth Token created successfully
2025-05-30 18:23:48.438 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 18:23:48.438 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 18:23:48.439 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 18:23:48.442 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 18:23:48.453 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 18:23:48.453 +03:00 [INF] UsersBL GetUserById
2025-05-30 18:23:48.453 +03:00 [INF] UserDA Getting user by id
2025-05-30 18:23:48.980 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 18:23:48.980 +03:00 [INF] CartsBL Get User Cart
2025-05-30 18:23:48.980 +03:00 [INF] CartDA Get User Cart
2025-05-30 18:23:48.991 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 18:23:48.991 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 18:23:48.991 +03:00 [INF] ProductDA Get Products
2025-05-30 18:23:49.026 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 18:23:55.289 +03:00 [INF] CartsAPI Update Cart
2025-05-30 18:23:55.289 +03:00 [INF] CartsBL Update Cart
2025-05-30 18:23:55.289 +03:00 [INF] CartDA Update Cart
2025-05-30 18:23:55.309 +03:00 [INF] CartDA Cart Updated
2025-05-30 18:23:55.309 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 18:23:57.330 +03:00 [INF] CartsAPI Update Cart
2025-05-30 18:23:57.330 +03:00 [INF] CartsBL Update Cart
2025-05-30 18:23:57.330 +03:00 [INF] CartDA Update Cart
2025-05-30 18:23:57.342 +03:00 [INF] CartDA Cart Updated
2025-05-30 18:23:57.342 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 18:23:59.673 +03:00 [INF] OrdersAPI Add Order
2025-05-30 18:23:59.673 +03:00 [INF] OrdersBL AddOrder
2025-05-30 18:23:59.673 +03:00 [INF] OrderDA Add Order
2025-05-30 18:23:59.674 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 18:23:59.693 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 18:23:59.703 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 18:23:59.706 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 18:23:59.709 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 18:23:59.711 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 18:23:59.713 +03:00 [INF] CartDA Delete Cart
2025-05-30 18:23:59.718 +03:00 [INF] CartDA Cart Deleted
2025-05-30 18:24:01.607 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 18:24:01.607 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 18:24:01.607 +03:00 [INF] OrderDA Get User Orders
2025-05-30 18:24:01.607 +03:00 [INF] UserDA Getting user by id
2025-05-30 18:24:08.031 +03:00 [INF] CartsAPI Update Cart
2025-05-30 18:24:08.031 +03:00 [INF] CartsBL Update Cart
2025-05-30 18:24:08.031 +03:00 [INF] CartDA Update Cart
2025-05-30 18:24:08.032 +03:00 [INF] AuthBL Logout
2025-05-30 18:24:08.032 +03:00 [INF] ServAuth Logout
2025-05-30 18:24:08.042 +03:00 [WRN] CartDA Cart Not Found
2025-05-30 18:24:08.042 +03:00 [INF] CartsAPI There is no cart with this id so add new one
2025-05-30 18:24:08.042 +03:00 [INF] CartsBL Add Cart
2025-05-30 18:24:08.042 +03:00 [INF] CartDA Add Cart
2025-05-30 18:24:08.043 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 18:24:08.049 +03:00 [INF] CartDA Cart Added
2025-05-30 18:24:08.049 +03:00 [INF] CartDA Cart Items Added
2025-05-30 19:03:58.554 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:03:58.554 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:03:58.555 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:03:58.579 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:03:58.579 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:03:58.649 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 19:03:58.649 +03:00 [INF] AuthBL Login
2025-05-30 19:03:58.649 +03:00 [INF] ServAuth Login
2025-05-30 19:03:58.659 +03:00 [INF] ServPass Verifying password
2025-05-30 19:03:58.722 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 19:03:58.722 +03:00 [INF] ServAuth Creating token response
2025-05-30 19:03:58.722 +03:00 [INF] ServAuth Creating token
2025-05-30 19:03:58.722 +03:00 [INF] ServAuth Token created successfully
2025-05-30 19:03:58.722 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 19:03:58.722 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 19:03:58.723 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 19:03:58.725 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 19:03:58.732 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 19:03:58.732 +03:00 [INF] UsersBL GetUserById
2025-05-30 19:03:58.732 +03:00 [INF] UserDA Getting user by id
2025-05-30 19:04:00.164 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 19:04:00.164 +03:00 [INF] CartsBL Get User Cart
2025-05-30 19:04:00.164 +03:00 [INF] CartDA Get User Cart
2025-05-30 19:04:00.174 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 19:04:00.174 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 19:04:00.174 +03:00 [INF] ProductDA Get Products
2025-05-30 19:04:00.198 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 19:04:10.074 +03:00 [INF] CartsAPI Update Cart
2025-05-30 19:04:10.074 +03:00 [INF] CartsBL Update Cart
2025-05-30 19:04:10.074 +03:00 [INF] CartDA Update Cart
2025-05-30 19:04:10.074 +03:00 [INF] AuthBL Logout
2025-05-30 19:04:10.074 +03:00 [INF] ServAuth Logout
2025-05-30 19:04:10.077 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 19:04:10.087 +03:00 [INF] CartDA Delete Cart
2025-05-30 19:04:10.095 +03:00 [INF] CartDA Cart Deleted
2025-05-30 19:04:10.095 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 19:04:10.095 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 19:04:38.620 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:04:38.620 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:04:38.620 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:04:38.636 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:04:38.636 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:04:38.709 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 19:04:38.710 +03:00 [INF] AuthBL Login
2025-05-30 19:04:38.710 +03:00 [INF] ServAuth Login
2025-05-30 19:04:38.719 +03:00 [INF] ServPass Verifying password
2025-05-30 19:04:38.782 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 19:04:38.782 +03:00 [INF] ServAuth Creating token response
2025-05-30 19:04:38.782 +03:00 [INF] ServAuth Creating token
2025-05-30 19:04:38.782 +03:00 [INF] ServAuth Token created successfully
2025-05-30 19:04:38.782 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 19:04:38.782 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 19:04:38.782 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 19:04:38.785 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 19:04:38.792 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 19:04:38.792 +03:00 [INF] UsersBL GetUserById
2025-05-30 19:04:38.792 +03:00 [INF] UserDA Getting user by id
2025-05-30 19:04:41.620 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 19:04:41.620 +03:00 [INF] CartsBL Get User Cart
2025-05-30 19:04:41.620 +03:00 [INF] CartDA Get User Cart
2025-05-30 19:04:41.630 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 19:04:41.630 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 19:04:41.630 +03:00 [INF] ProductDA Get Products
2025-05-30 19:04:41.637 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 19:05:04.137 +03:00 [INF] AuthBL Logout
2025-05-30 19:05:04.137 +03:00 [INF] ServAuth Logout
2025-05-30 19:05:04.137 +03:00 [INF] CartsAPI Update Cart
2025-05-30 19:05:04.137 +03:00 [INF] CartsBL Update Cart
2025-05-30 19:05:04.137 +03:00 [INF] CartDA Update Cart
2025-05-30 19:05:04.168 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 19:05:04.175 +03:00 [INF] CartDA Delete Cart
2025-05-30 19:05:04.192 +03:00 [INF] CartDA Cart Deleted
2025-05-30 19:05:04.192 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 19:05:04.192 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 19:14:34.285 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:14:34.285 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:14:34.285 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:14:34.306 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:14:34.306 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:16:27.347 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:16:27.347 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:16:27.347 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:16:27.360 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:16:27.360 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:16:47.637 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:16:47.638 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:16:47.638 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:16:47.642 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:16:47.642 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:17:02.317 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:17:02.317 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:17:02.317 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:17:02.319 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:17:02.319 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:19:56.164 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:19:56.164 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:19:56.164 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:19:56.179 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:19:56.180 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:20:34.102 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:20:34.102 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:20:34.102 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:20:34.104 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:20:34.104 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:24:39.327 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:24:39.327 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:24:39.327 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:24:39.341 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:24:39.341 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:31:14.187 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:31:14.187 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:31:14.187 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:31:14.202 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:31:14.202 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:31:24.236 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:31:24.236 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:31:24.236 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:31:24.238 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:31:24.238 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:37:01.515 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:37:01.515 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:37:01.515 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:37:01.530 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:37:01.530 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:42:58.166 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:42:58.166 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:42:58.166 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:42:58.181 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:42:58.181 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:43:14.369 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:43:14.369 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:43:14.369 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:43:14.371 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:43:14.371 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:50:12.975 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:50:12.975 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:50:12.975 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:50:12.990 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:50:12.990 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:50:30.620 +03:00 [INF] AuthBL RefreshToken
2025-05-30 19:50:30.620 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 19:50:30.620 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 19:50:30.624 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 19:50:30.625 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:52:12.217 +03:00 [INF] AuthBL RefreshToken
2025-05-30 20:52:12.218 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 20:52:12.218 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 20:52:12.293 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:52:12.293 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:53:41.173 +03:00 [INF] AuthBL RefreshToken
2025-05-30 20:53:41.173 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 20:53:41.173 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 20:53:41.217 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:53:41.217 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:56:18.472 +03:00 [INF] AuthBL RefreshToken
2025-05-30 20:56:18.472 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 20:56:18.472 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 20:56:18.486 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:56:18.486 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:57:01.070 +03:00 [INF] AuthBL RefreshToken
2025-05-30 20:57:01.071 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 20:57:01.071 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 20:57:01.086 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:57:01.086 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:58:09.490 +03:00 [INF] AuthBL RefreshToken
2025-05-30 20:58:09.490 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 20:58:09.490 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 20:58:09.509 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 20:58:09.509 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:01:59.898 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:01:59.899 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:01:59.900 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:01:59.983 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:01:59.984 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:03:46.966 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:03:46.966 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:03:46.966 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:03:46.978 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:03:46.978 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:06:09.429 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:06:09.429 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:06:09.429 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:06:09.441 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:06:09.441 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:06:39.274 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 21:06:39.275 +03:00 [INF] AuthBL Login
2025-05-30 21:06:39.275 +03:00 [INF] ServAuth Login
2025-05-30 21:06:39.347 +03:00 [INF] ServPass Verifying password
2025-05-30 21:06:39.633 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 21:06:39.633 +03:00 [INF] ServAuth Creating token response
2025-05-30 21:06:39.633 +03:00 [INF] ServAuth Creating token
2025-05-30 21:06:39.633 +03:00 [INF] ServAuth Token created successfully
2025-05-30 21:06:39.634 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 21:06:39.634 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 21:06:39.636 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 21:06:39.647 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 21:06:39.678 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 21:06:39.678 +03:00 [INF] UsersBL GetUserById
2025-05-30 21:06:39.678 +03:00 [INF] UserDA Getting user by id
2025-05-30 21:06:40.655 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 21:06:40.655 +03:00 [INF] CartsBL Get User Cart
2025-05-30 21:06:40.655 +03:00 [INF] CartDA Get User Cart
2025-05-30 21:06:40.675 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 21:06:40.675 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 21:06:40.675 +03:00 [INF] ProductDA Get Products
2025-05-30 21:06:40.696 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 21:06:40.732 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 21:06:56.065 +03:00 [INF] AuthBL Logout
2025-05-30 21:06:56.065 +03:00 [INF] ServAuth Logout
2025-05-30 21:06:56.076 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 21:06:56.104 +03:00 [INF] AuthBL Logout
2025-05-30 21:06:56.105 +03:00 [INF] ServAuth Logout
2025-05-30 21:06:56.105 +03:00 [INF] CartsAPI Add Cart
2025-05-30 21:06:56.106 +03:00 [INF] CartsBL Add Cart
2025-05-30 21:06:56.106 +03:00 [INF] CartDA Add Cart
2025-05-30 21:06:56.133 +03:00 [WRN] ServAuth Logout failed
2025-05-30 21:06:56.494 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ffdf6097-c407-43d0-97de-5ea7abd63e20
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 21:07:23.878 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:07:23.878 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:07:23.878 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:07:23.898 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:07:23.899 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:08:31.589 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:08:31.589 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:08:31.589 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:08:31.621 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:08:31.621 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:10:57.113 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:10:57.113 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:10:57.113 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:10:57.134 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:10:57.134 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:14:07.810 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:14:07.811 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:14:07.815 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:14:07.894 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:14:07.894 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:26:02.531 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:26:02.532 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:26:02.533 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:26:02.566 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:26:02.566 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:27:30.085 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:27:30.086 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:27:30.086 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:27:30.132 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:27:30.132 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:29:58.411 +03:00 [INF] AuthBL RefreshToken
2025-05-30 21:29:58.411 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 21:29:58.411 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 21:29:58.423 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 21:29:58.423 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:00:34.256 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:00:34.256 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:00:34.256 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:00:34.284 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:00:34.284 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:05:30.910 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:05:30.910 +03:00 [INF] AuthBL Login
2025-05-30 22:05:30.910 +03:00 [INF] ServAuth Login
2025-05-30 22:05:30.921 +03:00 [INF] ServPass Verifying password
2025-05-30 22:05:30.988 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 22:05:30.988 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:05:30.988 +03:00 [INF] ServAuth Creating token
2025-05-30 22:05:30.988 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:05:30.988 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:05:30.988 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:05:30.989 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:05:30.991 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:05:31.003 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:05:31.003 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:05:31.003 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:07:30.892 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:07:30.892 +03:00 [INF] AuthBL Login
2025-05-30 22:07:30.892 +03:00 [INF] ServAuth Login
2025-05-30 22:07:30.901 +03:00 [INF] ServPass Verifying password
2025-05-30 22:07:30.964 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 22:07:30.964 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:07:30.964 +03:00 [INF] ServAuth Creating token
2025-05-30 22:07:30.964 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:07:30.964 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:07:30.964 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:07:30.965 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:07:30.967 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:07:30.978 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:07:30.978 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:07:30.978 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:07:32.210 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:07:32.210 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:07:32.210 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:07:32.221 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:07:32.221 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:07:32.221 +03:00 [INF] ProductDA Get Products
2025-05-30 22:07:32.234 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 22:07:32.252 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:08:00.458 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:08:00.458 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:08:00.458 +03:00 [INF] ProductDA Get Products
2025-05-30 22:08:00.467 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:08:06.316 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:08:06.316 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:08:06.316 +03:00 [INF] CartDA Add Cart
2025-05-30 22:08:06.325 +03:00 [INF] CartDA Cart Added
2025-05-30 22:08:06.337 +03:00 [INF] CartDA Cart Items Added
2025-05-30 22:08:06.337 +03:00 [INF] CartsAPI Cart was added with id 483
2025-05-30 22:08:21.653 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:08:21.653 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:08:21.653 +03:00 [INF] CartDA Update Cart
2025-05-30 22:08:21.687 +03:00 [INF] CartDA Cart Updated
2025-05-30 22:08:21.687 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 22:08:24.894 +03:00 [INF] OrdersAPI Add Order
2025-05-30 22:08:24.894 +03:00 [INF] OrdersBL AddOrder
2025-05-30 22:08:24.894 +03:00 [INF] OrderDA Add Order
2025-05-30 22:08:24.895 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 22:08:24.909 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 22:08:24.919 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 22:08:24.923 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 22:08:24.925 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 22:08:24.927 +03:00 [INF] CartDA Delete Cart
2025-05-30 22:08:24.935 +03:00 [INF] CartDA Cart Deleted
2025-05-30 22:08:27.741 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 22:08:27.741 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 22:08:27.741 +03:00 [INF] OrderDA Get User Orders
2025-05-30 22:08:27.741 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:10:21.162 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:10:21.162 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:10:21.162 +03:00 [INF] ProductDA Get Products
2025-05-30 22:10:21.174 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:10:26.255 +03:00 [INF] AuthBL Logout
2025-05-30 22:10:26.255 +03:00 [INF] ServAuth Logout
2025-05-30 22:10:26.262 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 22:10:26.272 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:10:26.273 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:10:26.273 +03:00 [INF] CartDA Add Cart
2025-05-30 22:10:26.309 +03:00 [INF] AuthBL Logout
2025-05-30 22:10:26.310 +03:00 [INF] ServAuth Logout
2025-05-30 22:10:26.313 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:10:26.416 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:59c2c07b-1cd2-4005-ba6f-78360f12e08a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:10:56.336 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:10:56.336 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:10:56.336 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:10:56.342 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:10:56.342 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:16:03.690 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:16:03.691 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:16:03.691 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:16:03.695 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:16:03.695 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:21:00.555 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:21:00.555 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:21:00.555 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:21:00.581 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:21:00.581 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:27:25.690 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:27:25.690 +03:00 [INF] AuthBL Login
2025-05-30 22:27:25.690 +03:00 [INF] ServAuth Login
2025-05-30 22:27:25.709 +03:00 [INF] ServPass Verifying password
2025-05-30 22:27:25.776 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 22:27:25.776 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:27:25.776 +03:00 [INF] ServAuth Creating token
2025-05-30 22:27:25.776 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:27:25.776 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:27:25.776 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:27:25.777 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:27:25.780 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:27:25.792 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:27:25.792 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:27:25.792 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:27:34.935 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:27:34.935 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:27:34.935 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:27:34.947 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:27:34.947 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:27:34.947 +03:00 [INF] ProductDA Get Products
2025-05-30 22:27:34.956 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 22:27:34.967 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:27:40.407 +03:00 [INF] AuthBL Logout
2025-05-30 22:27:40.407 +03:00 [INF] ServAuth Logout
2025-05-30 22:27:40.409 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 22:27:40.420 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:27:40.420 +03:00 [INF] AuthBL Logout
2025-05-30 22:27:40.420 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:27:40.420 +03:00 [INF] ServAuth Logout
2025-05-30 22:27:40.420 +03:00 [INF] CartDA Add Cart
2025-05-30 22:27:40.424 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:27:40.511 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2e111af0-cd51-4bd7-8797-2f0ead55524e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:33:33.260 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:33:33.260 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:33:33.260 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:33:33.281 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:33:33.281 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:34:15.725 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:34:15.726 +03:00 [INF] AuthBL Login
2025-05-30 22:34:15.726 +03:00 [INF] ServAuth Login
2025-05-30 22:34:15.746 +03:00 [INF] ServPass Verifying password
2025-05-30 22:34:15.814 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 22:34:15.814 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:34:15.814 +03:00 [INF] ServAuth Creating token
2025-05-30 22:34:15.814 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:34:15.814 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:34:15.814 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:34:15.814 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:34:15.817 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:34:15.829 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:34:15.829 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:34:15.829 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:34:16.613 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:34:16.613 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:34:16.613 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:34:16.623 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:34:16.623 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:34:16.623 +03:00 [INF] ProductDA Get Products
2025-05-30 22:34:16.632 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 22:34:16.646 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:34:18.821 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:34:18.821 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:34:18.821 +03:00 [INF] CartDA Add Cart
2025-05-30 22:34:18.832 +03:00 [INF] CartDA Cart Added
2025-05-30 22:34:18.832 +03:00 [INF] CartDA Cart Items Added
2025-05-30 22:34:18.832 +03:00 [INF] CartsAPI Cart was added with id 486
2025-05-30 22:34:28.016 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:34:28.016 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:34:28.016 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:34:28.019 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:34:28.019 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:37:37.957 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:37:37.957 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:37:37.957 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:37:37.970 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:37:37.970 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:37:37.970 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:37:37.970 +03:00 [INF] ServAuth Creating token
2025-05-30 22:37:37.971 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:37:37.971 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:37:37.971 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:37:37.972 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:38:54.222 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:38:54.222 +03:00 [INF] AuthBL Login
2025-05-30 22:38:54.223 +03:00 [INF] ServAuth Login
2025-05-30 22:38:54.233 +03:00 [INF] ServPass Verifying password
2025-05-30 22:38:54.297 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 22:38:54.297 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:38:54.297 +03:00 [INF] ServAuth Creating token
2025-05-30 22:38:54.297 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:38:54.297 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:38:54.297 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:38:54.297 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:38:54.299 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:38:54.310 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:38:54.310 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:38:54.310 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:38:55.223 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:38:55.223 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:38:55.223 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:38:55.234 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:38:55.234 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:38:55.234 +03:00 [INF] ProductDA Get Products
2025-05-30 22:38:55.240 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 22:38:55.245 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:39:48.961 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:39:48.961 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:39:48.961 +03:00 [INF] CartDA Add Cart
2025-05-30 22:39:48.981 +03:00 [INF] CartDA Cart Added
2025-05-30 22:39:48.981 +03:00 [INF] CartDA Cart Items Added
2025-05-30 22:39:48.981 +03:00 [INF] CartsAPI Cart was added with id 487
2025-05-30 22:40:08.918 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:40:08.918 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:40:08.918 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:40:08.921 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:40:08.921 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:40:08.921 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:40:08.921 +03:00 [INF] ServAuth Creating token
2025-05-30 22:40:08.921 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:40:08.921 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:40:08.921 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:40:08.922 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:41:24.220 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:41:24.220 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:41:24.220 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:41:24.226 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:41:24.226 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:41:24.226 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:41:24.226 +03:00 [INF] ServAuth Creating token
2025-05-30 22:41:24.226 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:41:24.227 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:41:24.228 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:41:24.229 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:43:22.047 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:43:22.047 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:43:22.047 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:43:22.051 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:43:22.051 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:43:22.051 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:43:22.051 +03:00 [INF] ServAuth Creating token
2025-05-30 22:43:22.052 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:43:22.052 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:43:22.052 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:43:22.053 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:48:54.368 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:48:54.369 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:48:54.369 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:48:54.380 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:48:54.380 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:48:54.380 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:48:54.380 +03:00 [INF] ServAuth Creating token
2025-05-30 22:48:54.380 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:48:54.380 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:48:54.380 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:48:54.381 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:48:54.412 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:48:54.412 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:48:54.412 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:48:54.458 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:48:54.458 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:48:54.458 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:48:54.467 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:48:54.467 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:48:54.467 +03:00 [INF] ProductDA Get Products
2025-05-30 22:48:54.496 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:48:55.988 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:48:55.988 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:48:55.988 +03:00 [INF] CartDA Update Cart
2025-05-30 22:48:55.994 +03:00 [INF] CartDA Delete Cart
2025-05-30 22:48:56.005 +03:00 [INF] CartDA Cart Deleted
2025-05-30 22:48:56.005 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 22:48:56.005 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 22:49:00.096 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:49:00.096 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:49:00.096 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:49:00.099 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:49:00.099 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:49:00.099 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:49:00.099 +03:00 [INF] ServAuth Creating token
2025-05-30 22:49:00.099 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:49:00.099 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:49:00.099 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:49:00.100 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:49:00.115 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:49:00.116 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:49:00.116 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:49:00.161 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:49:00.161 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:49:00.161 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:49:00.165 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 22:49:00.173 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:49:00.173 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:49:00.173 +03:00 [INF] ProductDA Get Products
2025-05-30 22:49:00.178 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:49:48.784 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:49:48.784 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:49:48.785 +03:00 [INF] CartDA Add Cart
2025-05-30 22:49:48.803 +03:00 [INF] CartDA Cart Added
2025-05-30 22:49:48.814 +03:00 [INF] CartDA Cart Items Added
2025-05-30 22:49:48.814 +03:00 [INF] CartsAPI Cart was added with id 488
2025-05-30 22:49:49.870 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:49:49.870 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:49:49.870 +03:00 [INF] CartDA Update Cart
2025-05-30 22:49:49.888 +03:00 [INF] CartDA Cart Updated
2025-05-30 22:49:49.888 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 22:49:52.084 +03:00 [INF] OrdersAPI Add Order
2025-05-30 22:49:52.084 +03:00 [INF] OrdersBL AddOrder
2025-05-30 22:49:52.084 +03:00 [INF] OrderDA Add Order
2025-05-30 22:49:52.085 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 22:49:52.101 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 22:49:52.111 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 22:49:52.113 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 22:49:52.115 +03:00 [INF] CartDA Delete Cart
2025-05-30 22:49:52.121 +03:00 [INF] CartDA Cart Deleted
2025-05-30 22:49:54.829 +03:00 [INF] OrdersAPI Get User Orders
2025-05-30 22:49:54.829 +03:00 [INF] OrdersBL GetUserOrders
2025-05-30 22:49:54.829 +03:00 [INF] OrderDA Get User Orders
2025-05-30 22:49:54.829 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:49:59.223 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:49:59.223 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:49:59.223 +03:00 [INF] CartDA Add Cart
2025-05-30 22:49:59.227 +03:00 [INF] CartDA Cart Added
2025-05-30 22:49:59.227 +03:00 [INF] CartDA Cart Items Added
2025-05-30 22:49:59.227 +03:00 [INF] CartsAPI Cart was added with id 489
2025-05-30 22:50:01.745 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:50:01.746 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:50:01.746 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:50:01.749 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:50:01.749 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:50:01.749 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:50:01.749 +03:00 [INF] ServAuth Creating token
2025-05-30 22:50:01.749 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:50:01.749 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:50:01.749 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:50:01.750 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:50:01.781 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:50:01.781 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:50:01.781 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:50:01.829 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:50:01.829 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:50:01.829 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:50:01.840 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:50:01.841 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:50:01.841 +03:00 [INF] ProductDA Get Products
2025-05-30 22:50:01.847 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:50:05.090 +03:00 [INF] AuthBL Logout
2025-05-30 22:50:05.090 +03:00 [INF] ServAuth Logout
2025-05-30 22:50:05.093 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 22:50:05.111 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:50:05.112 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:50:05.112 +03:00 [INF] CartDA Add Cart
2025-05-30 22:50:05.112 +03:00 [INF] AuthBL Logout
2025-05-30 22:50:05.112 +03:00 [INF] ServAuth Logout
2025-05-30 22:50:05.128 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:50:05.225 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee71c1d-9837-4f40-87a1-69dfd4b25504
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:50:12.720 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:50:12.720 +03:00 [INF] AuthBL Login
2025-05-30 22:50:12.720 +03:00 [INF] ServAuth Login
2025-05-30 22:50:12.732 +03:00 [INF] ServPass Verifying password
2025-05-30 22:50:12.794 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 22:50:12.794 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:50:12.794 +03:00 [INF] ServAuth Creating token
2025-05-30 22:50:12.794 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:50:12.794 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:50:12.794 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:50:12.795 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:50:12.797 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:50:12.807 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:50:12.807 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:50:12.808 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:50:13.524 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:50:13.524 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:50:13.524 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:50:13.535 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:50:13.535 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:50:13.535 +03:00 [INF] ProductDA Get Products
2025-05-30 22:50:13.543 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:50:19.437 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:50:19.437 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:50:19.437 +03:00 [INF] CartDA Update Cart
2025-05-30 22:50:19.453 +03:00 [INF] CartDA Cart Updated
2025-05-30 22:50:19.453 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 22:50:21.916 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:50:21.917 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:50:21.917 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:50:21.920 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:50:21.920 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:51:06.835 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:51:06.835 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:51:06.835 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:51:06.838 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:51:06.838 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:51:06.838 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:51:06.838 +03:00 [INF] ServAuth Creating token
2025-05-30 22:51:06.838 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:51:06.838 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:51:06.838 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:51:06.839 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:51:06.855 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:51:06.855 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:51:06.855 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:51:06.904 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:51:06.905 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:51:06.905 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:51:06.918 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:51:06.918 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:51:06.918 +03:00 [INF] ProductDA Get Products
2025-05-30 22:51:06.924 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:51:09.717 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:51:09.717 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:51:09.717 +03:00 [INF] CartDA Update Cart
2025-05-30 22:51:09.733 +03:00 [INF] CartDA Cart Updated
2025-05-30 22:51:09.733 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 22:51:16.263 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:51:16.263 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:51:16.263 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:51:16.269 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:51:16.270 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:51:16.270 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:51:16.270 +03:00 [INF] ServAuth Creating token
2025-05-30 22:51:16.270 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:51:16.270 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:51:16.270 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:51:16.271 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:51:16.307 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:51:16.307 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:51:16.307 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:51:16.360 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:51:16.360 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:51:16.360 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:51:16.373 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:51:16.373 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:51:16.373 +03:00 [INF] ProductDA Get Products
2025-05-30 22:51:16.385 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:51:18.452 +03:00 [INF] AuthBL Logout
2025-05-30 22:51:18.452 +03:00 [INF] ServAuth Logout
2025-05-30 22:51:18.456 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 22:51:18.476 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:51:18.476 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:51:18.476 +03:00 [INF] CartDA Add Cart
2025-05-30 22:51:18.476 +03:00 [INF] AuthBL Logout
2025-05-30 22:51:18.476 +03:00 [INF] ServAuth Logout
2025-05-30 22:51:18.480 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:51:18.564 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0eaf3d0e-99d8-456d-8f06-48ee52a3cdaa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:51:25.236 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:51:25.237 +03:00 [INF] AuthBL Login
2025-05-30 22:51:25.237 +03:00 [INF] ServAuth Login
2025-05-30 22:51:25.242 +03:00 [INF] ServPass Verifying password
2025-05-30 22:51:25.305 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 22:51:25.305 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:51:25.305 +03:00 [INF] ServAuth Creating token
2025-05-30 22:51:25.305 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:51:25.305 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:51:25.305 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:51:25.305 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:51:25.307 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:51:25.317 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:51:25.317 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:51:25.317 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:51:25.781 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:51:25.781 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:51:25.781 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:51:25.790 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:51:25.790 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:51:25.790 +03:00 [INF] ProductDA Get Products
2025-05-30 22:51:25.800 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:51:35.088 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:51:35.088 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:51:35.088 +03:00 [INF] CartDA Update Cart
2025-05-30 22:51:35.088 +03:00 [INF] AuthBL Logout
2025-05-30 22:51:35.088 +03:00 [INF] ServAuth Logout
2025-05-30 22:51:35.091 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 22:51:35.100 +03:00 [INF] CartDA Delete Cart
2025-05-30 22:51:35.110 +03:00 [INF] CartDA Cart Deleted
2025-05-30 22:51:35.110 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 22:51:35.110 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 22:51:48.335 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:51:48.335 +03:00 [INF] AuthBL Login
2025-05-30 22:51:48.335 +03:00 [INF] ServAuth Login
2025-05-30 22:51:48.337 +03:00 [INF] ServPass Verifying password
2025-05-30 22:51:48.400 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 22:51:48.400 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:51:48.401 +03:00 [INF] ServAuth Creating token
2025-05-30 22:51:48.401 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:51:48.401 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:51:48.401 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:51:48.401 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:51:48.403 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:51:48.413 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:51:48.414 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:51:48.414 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:51:49.056 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:51:49.056 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:51:49.056 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:51:49.059 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 22:51:49.065 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:51:49.065 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:51:49.065 +03:00 [INF] ProductDA Get Products
2025-05-30 22:51:49.069 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:51:56.269 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:51:56.270 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:51:56.270 +03:00 [INF] CartDA Add Cart
2025-05-30 22:51:56.273 +03:00 [INF] CartDA Cart Added
2025-05-30 22:51:56.273 +03:00 [INF] CartDA Cart Items Added
2025-05-30 22:51:56.273 +03:00 [INF] CartsAPI Cart was added with id 492
2025-05-30 22:51:58.383 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:51:58.383 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:51:58.383 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:51:58.386 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:51:58.387 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:51:58.387 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:51:58.387 +03:00 [INF] ServAuth Creating token
2025-05-30 22:51:58.387 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:51:58.387 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:51:58.387 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:51:58.388 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:51:58.426 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:51:58.426 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:51:58.426 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:51:58.471 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:51:58.471 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:51:58.471 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:51:58.483 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:51:58.483 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:51:58.483 +03:00 [INF] ProductDA Get Products
2025-05-30 22:51:58.488 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:52:02.760 +03:00 [INF] AuthBL Logout
2025-05-30 22:52:02.760 +03:00 [INF] ServAuth Logout
2025-05-30 22:52:02.764 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 22:52:02.787 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:52:02.787 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:52:02.787 +03:00 [INF] CartDA Add Cart
2025-05-30 22:52:02.787 +03:00 [INF] AuthBL Logout
2025-05-30 22:52:02.787 +03:00 [INF] ServAuth Logout
2025-05-30 22:52:02.792 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:52:02.877 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee71c1d-9837-4f40-87a1-69dfd4b25504
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:52:15.047 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:52:15.047 +03:00 [INF] AuthBL Login
2025-05-30 22:52:15.047 +03:00 [INF] ServAuth Login
2025-05-30 22:52:15.049 +03:00 [INF] ServPass Verifying password
2025-05-30 22:52:15.113 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 22:52:15.113 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:52:15.113 +03:00 [INF] ServAuth Creating token
2025-05-30 22:52:15.113 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:52:15.113 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:52:15.114 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:52:15.114 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:52:15.115 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:52:15.128 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:52:15.128 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:52:15.128 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:52:16.062 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:52:16.062 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:52:16.062 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:52:16.072 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:52:16.073 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:52:16.073 +03:00 [INF] ProductDA Get Products
2025-05-30 22:52:16.077 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:52:52.488 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:52:52.489 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:52:52.489 +03:00 [INF] CartDA Update Cart
2025-05-30 22:52:52.526 +03:00 [INF] CartDA Cart Updated
2025-05-30 22:52:52.526 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 22:52:58.704 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:52:58.704 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:52:58.704 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:52:58.708 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:52:58.708 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:53:27.743 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:53:27.743 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:53:27.743 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:53:27.754 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:53:27.754 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:53:27.754 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:53:27.754 +03:00 [INF] ServAuth Creating token
2025-05-30 22:53:27.754 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:53:27.754 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:53:27.754 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:53:27.755 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:53:27.770 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:53:27.770 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:53:27.770 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:53:27.848 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:53:27.848 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:53:27.848 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:53:27.878 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:53:27.878 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:53:27.878 +03:00 [INF] ProductDA Get Products
2025-05-30 22:53:27.924 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:53:30.960 +03:00 [INF] AuthBL Logout
2025-05-30 22:53:30.960 +03:00 [INF] ServAuth Logout
2025-05-30 22:53:30.964 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 22:53:30.981 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:53:30.981 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:53:30.981 +03:00 [INF] CartDA Add Cart
2025-05-30 22:53:30.981 +03:00 [INF] AuthBL Logout
2025-05-30 22:53:30.981 +03:00 [INF] ServAuth Logout
2025-05-30 22:53:30.991 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:53:31.078 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0eaf3d0e-99d8-456d-8f06-48ee52a3cdaa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:53:42.868 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:53:42.868 +03:00 [INF] AuthBL Login
2025-05-30 22:53:42.868 +03:00 [INF] ServAuth Login
2025-05-30 22:53:42.874 +03:00 [INF] ServPass Verifying password
2025-05-30 22:53:42.939 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 22:53:42.939 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:53:42.939 +03:00 [INF] ServAuth Creating token
2025-05-30 22:53:42.939 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:53:42.939 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:53:42.939 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:53:42.940 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:53:42.941 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:53:42.952 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:53:42.952 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:53:42.952 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:53:43.590 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:53:43.590 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:53:43.590 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:53:43.600 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:53:43.600 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:53:43.600 +03:00 [INF] ProductDA Get Products
2025-05-30 22:53:43.608 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:54:16.170 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:54:16.171 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:54:16.171 +03:00 [INF] CartDA Update Cart
2025-05-30 22:54:16.186 +03:00 [INF] CartDA Delete Cart
2025-05-30 22:54:16.197 +03:00 [INF] CartDA Cart Deleted
2025-05-30 22:54:16.197 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 22:54:16.197 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 22:54:19.673 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:54:19.673 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:54:19.673 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:54:19.675 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:54:19.675 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 22:54:45.975 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:54:45.975 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:54:45.975 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:54:45.983 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:54:45.983 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:54:45.983 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:54:45.983 +03:00 [INF] ServAuth Creating token
2025-05-30 22:54:45.983 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:54:45.983 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:54:45.983 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:54:45.984 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:54:46.002 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:54:46.002 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:54:46.002 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:54:46.062 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:54:46.062 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:54:46.062 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:54:46.073 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:54:46.073 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:54:46.073 +03:00 [INF] ProductDA Get Products
2025-05-30 22:54:46.074 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 22:54:46.087 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:54:47.760 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:54:47.760 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:54:47.760 +03:00 [INF] CartDA Add Cart
2025-05-30 22:54:47.768 +03:00 [INF] CartDA Cart Added
2025-05-30 22:54:47.768 +03:00 [INF] CartDA Cart Items Added
2025-05-30 22:54:47.768 +03:00 [INF] CartsAPI Cart was added with id 495
2025-05-30 22:57:49.187 +03:00 [INF] AuthBL RefreshToken
2025-05-30 22:57:49.187 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 22:57:49.187 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 22:57:49.196 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:57:49.196 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 22:57:49.196 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:57:49.196 +03:00 [INF] ServAuth Creating token
2025-05-30 22:57:49.196 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:57:49.196 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:57:49.196 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:57:49.196 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:57:49.234 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:57:49.234 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:57:49.234 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:57:49.281 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:57:49.281 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:57:49.281 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:57:49.290 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:57:49.290 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:57:49.290 +03:00 [INF] ProductDA Get Products
2025-05-30 22:57:49.301 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:57:51.535 +03:00 [INF] AuthBL Logout
2025-05-30 22:57:51.535 +03:00 [INF] ServAuth Logout
2025-05-30 22:57:51.539 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 22:57:51.561 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:57:51.561 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:57:51.561 +03:00 [INF] CartDA Add Cart
2025-05-30 22:57:51.561 +03:00 [INF] AuthBL Logout
2025-05-30 22:57:51.562 +03:00 [INF] ServAuth Logout
2025-05-30 22:57:51.598 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:57:51.694 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee71c1d-9837-4f40-87a1-69dfd4b25504
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:58:03.287 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:58:03.287 +03:00 [INF] AuthBL Login
2025-05-30 22:58:03.287 +03:00 [INF] ServAuth Login
2025-05-30 22:58:03.292 +03:00 [INF] ServPass Verifying password
2025-05-30 22:58:03.355 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 22:58:03.355 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:58:03.355 +03:00 [INF] ServAuth Creating token
2025-05-30 22:58:03.355 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:58:03.355 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:58:03.355 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:58:03.356 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:58:03.358 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:58:03.368 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:58:03.369 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:58:03.369 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:58:04.582 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:58:04.582 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:58:04.582 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:58:04.591 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:58:04.592 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:58:04.592 +03:00 [INF] ProductDA Get Products
2025-05-30 22:58:04.599 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:59:00.182 +03:00 [INF] AuthBL Logout
2025-05-30 22:59:00.182 +03:00 [INF] ServAuth Logout
2025-05-30 22:59:00.186 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 22:59:00.218 +03:00 [INF] AuthBL Logout
2025-05-30 22:59:00.218 +03:00 [INF] ServAuth Logout
2025-05-30 22:59:00.218 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:59:00.219 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:59:00.219 +03:00 [INF] CartDA Add Cart
2025-05-30 22:59:00.230 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:59:00.314 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee71c1d-9837-4f40-87a1-69dfd4b25504
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:59:11.460 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:59:11.460 +03:00 [INF] AuthBL Login
2025-05-30 22:59:11.460 +03:00 [INF] ServAuth Login
2025-05-30 22:59:11.466 +03:00 [INF] ServPass Verifying password
2025-05-30 22:59:11.531 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 22:59:11.532 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:59:11.532 +03:00 [INF] ServAuth Creating token
2025-05-30 22:59:11.532 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:59:11.532 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:59:11.532 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:59:11.533 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:59:11.534 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:59:11.546 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:59:11.546 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:59:11.546 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:59:18.812 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:59:18.814 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:59:18.814 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:59:18.823 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:59:18.823 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:59:18.823 +03:00 [INF] ProductDA Get Products
2025-05-30 22:59:18.831 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:59:22.926 +03:00 [INF] AuthBL Logout
2025-05-30 22:59:22.926 +03:00 [INF] ServAuth Logout
2025-05-30 22:59:22.930 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 22:59:22.952 +03:00 [INF] CartsAPI Add Cart
2025-05-30 22:59:22.952 +03:00 [INF] AuthBL Logout
2025-05-30 22:59:22.953 +03:00 [INF] CartsBL Add Cart
2025-05-30 22:59:22.953 +03:00 [INF] ServAuth Logout
2025-05-30 22:59:22.953 +03:00 [INF] CartDA Add Cart
2025-05-30 22:59:22.956 +03:00 [WRN] ServAuth Logout failed
2025-05-30 22:59:23.051 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0eaf3d0e-99d8-456d-8f06-48ee52a3cdaa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 22:59:30.382 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 22:59:30.382 +03:00 [INF] AuthBL Login
2025-05-30 22:59:30.382 +03:00 [INF] ServAuth Login
2025-05-30 22:59:30.384 +03:00 [INF] ServPass Verifying password
2025-05-30 22:59:30.451 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 22:59:30.451 +03:00 [INF] ServAuth Creating token response
2025-05-30 22:59:30.451 +03:00 [INF] ServAuth Creating token
2025-05-30 22:59:30.451 +03:00 [INF] ServAuth Token created successfully
2025-05-30 22:59:30.451 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 22:59:30.451 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 22:59:30.452 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 22:59:30.453 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 22:59:30.464 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 22:59:30.464 +03:00 [INF] UsersBL GetUserById
2025-05-30 22:59:30.464 +03:00 [INF] UserDA Getting user by id
2025-05-30 22:59:31.017 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 22:59:31.017 +03:00 [INF] CartsBL Get User Cart
2025-05-30 22:59:31.017 +03:00 [INF] CartDA Get User Cart
2025-05-30 22:59:31.026 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 22:59:31.026 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 22:59:31.026 +03:00 [INF] ProductDA Get Products
2025-05-30 22:59:31.030 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 22:59:33.916 +03:00 [INF] CartsAPI Update Cart
2025-05-30 22:59:33.916 +03:00 [INF] CartsBL Update Cart
2025-05-30 22:59:33.916 +03:00 [INF] CartDA Update Cart
2025-05-30 22:59:33.921 +03:00 [INF] CartDA Delete Cart
2025-05-30 22:59:33.935 +03:00 [INF] CartDA Cart Deleted
2025-05-30 22:59:33.935 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 22:59:33.935 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 23:01:42.152 +03:00 [INF] AuthBL RefreshToken
2025-05-30 23:01:42.152 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 23:01:42.152 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 23:01:42.159 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 23:01:42.159 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 23:03:20.483 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 23:03:20.483 +03:00 [INF] AuthBL Login
2025-05-30 23:03:20.483 +03:00 [INF] ServAuth Login
2025-05-30 23:03:20.499 +03:00 [INF] ServPass Verifying password
2025-05-30 23:03:20.564 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 23:03:20.564 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:03:20.564 +03:00 [INF] ServAuth Creating token
2025-05-30 23:03:20.564 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:03:20.564 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:03:20.564 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:03:20.565 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:03:20.567 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 23:03:20.578 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:03:20.579 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:03:20.579 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:03:26.984 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:03:26.984 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:03:26.984 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:03:26.995 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:03:26.995 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:03:26.995 +03:00 [INF] ProductDA Get Products
2025-05-30 23:03:27.006 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:03:27.008 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 23:03:42.892 +03:00 [INF] CartsAPI Add Cart
2025-05-30 23:03:42.892 +03:00 [INF] CartsBL Add Cart
2025-05-30 23:03:42.892 +03:00 [INF] CartDA Add Cart
2025-05-30 23:03:42.903 +03:00 [INF] CartDA Cart Added
2025-05-30 23:03:42.911 +03:00 [INF] CartDA Cart Items Added
2025-05-30 23:03:42.911 +03:00 [INF] CartsAPI Cart was added with id 499
2025-05-30 23:03:44.192 +03:00 [INF] CartsAPI Update Cart
2025-05-30 23:03:44.192 +03:00 [INF] CartsBL Update Cart
2025-05-30 23:03:44.192 +03:00 [INF] CartDA Update Cart
2025-05-30 23:03:44.208 +03:00 [INF] CartDA Cart Updated
2025-05-30 23:03:44.208 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 23:03:45.474 +03:00 [INF] OrdersAPI Add Order
2025-05-30 23:03:45.474 +03:00 [INF] OrdersBL AddOrder
2025-05-30 23:03:45.474 +03:00 [INF] OrderDA Add Order
2025-05-30 23:03:45.475 +03:00 [INF] OrderDA Order Added with id 0
2025-05-30 23:03:45.485 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 23:03:45.493 +03:00 [INF] OrderDA OrderItem Added with id 0
2025-05-30 23:03:45.495 +03:00 [INF] CartDA Get Cart Id By User Id
2025-05-30 23:03:45.498 +03:00 [INF] CartDA Delete Cart
2025-05-30 23:03:45.504 +03:00 [INF] CartDA Cart Deleted
2025-05-30 23:03:59.911 +03:00 [INF] AuthBL Logout
2025-05-30 23:03:59.911 +03:00 [INF] ServAuth Logout
2025-05-30 23:03:59.924 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 23:03:59.933 +03:00 [INF] AuthBL Logout
2025-05-30 23:03:59.933 +03:00 [INF] ServAuth Logout
2025-05-30 23:03:59.934 +03:00 [INF] CartsAPI Add Cart
2025-05-30 23:03:59.934 +03:00 [INF] CartsBL Add Cart
2025-05-30 23:03:59.934 +03:00 [INF] CartDA Add Cart
2025-05-30 23:03:59.948 +03:00 [WRN] ServAuth Logout failed
2025-05-30 23:04:00.049 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0eaf3d0e-99d8-456d-8f06-48ee52a3cdaa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 23:04:51.044 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 23:04:51.044 +03:00 [INF] AuthBL Login
2025-05-30 23:04:51.044 +03:00 [INF] ServAuth Login
2025-05-30 23:04:51.052 +03:00 [INF] ServPass Verifying password
2025-05-30 23:04:51.116 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 23:04:51.116 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:04:51.116 +03:00 [INF] ServAuth Creating token
2025-05-30 23:04:51.116 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:04:51.116 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:04:51.116 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:04:51.117 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:04:51.119 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 23:04:51.131 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:04:51.131 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:04:51.131 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:04:54.471 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:04:54.471 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:04:54.471 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:04:54.481 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:04:54.481 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:04:54.481 +03:00 [INF] ProductDA Get Products
2025-05-30 23:04:54.488 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:04:54.490 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 23:05:21.918 +03:00 [INF] AuthBL Logout
2025-05-30 23:05:21.918 +03:00 [INF] ServAuth Logout
2025-05-30 23:05:21.928 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 23:05:21.961 +03:00 [INF] CartsAPI Add Cart
2025-05-30 23:05:21.961 +03:00 [INF] CartsBL Add Cart
2025-05-30 23:05:21.961 +03:00 [INF] CartDA Add Cart
2025-05-30 23:05:21.961 +03:00 [INF] AuthBL Logout
2025-05-30 23:05:21.961 +03:00 [INF] ServAuth Logout
2025-05-30 23:05:21.965 +03:00 [WRN] ServAuth Logout failed
2025-05-30 23:05:22.053 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1ee71c1d-9837-4f40-87a1-69dfd4b25504
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 23:05:35.217 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 23:05:35.217 +03:00 [INF] AuthBL Login
2025-05-30 23:05:35.217 +03:00 [INF] ServAuth Login
2025-05-30 23:05:35.232 +03:00 [INF] ServPass Verifying password
2025-05-30 23:05:35.295 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 23:05:35.295 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:05:35.295 +03:00 [INF] ServAuth Creating token
2025-05-30 23:05:35.295 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:05:35.295 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:05:35.295 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:05:35.295 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:05:35.297 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 23:05:35.308 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:05:35.308 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:05:35.308 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:05:37.058 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:05:37.058 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:05:37.058 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:05:37.069 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:05:37.069 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:05:37.069 +03:00 [INF] ProductDA Get Products
2025-05-30 23:05:37.071 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 23:05:37.077 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:05:49.836 +03:00 [INF] AuthBL Logout
2025-05-30 23:05:49.836 +03:00 [INF] ServAuth Logout
2025-05-30 23:05:49.840 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 23:05:49.850 +03:00 [INF] CartsAPI Add Cart
2025-05-30 23:05:49.851 +03:00 [INF] CartsBL Add Cart
2025-05-30 23:05:49.851 +03:00 [INF] CartDA Add Cart
2025-05-30 23:05:49.851 +03:00 [INF] AuthBL Logout
2025-05-30 23:05:49.851 +03:00 [INF] ServAuth Logout
2025-05-30 23:05:49.854 +03:00 [WRN] ServAuth Logout failed
2025-05-30 23:05:49.941 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0eaf3d0e-99d8-456d-8f06-48ee52a3cdaa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 23:05:59.836 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 23:05:59.836 +03:00 [INF] AuthBL Login
2025-05-30 23:05:59.836 +03:00 [INF] ServAuth Login
2025-05-30 23:05:59.837 +03:00 [INF] ServPass Verifying password
2025-05-30 23:05:59.902 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 23:05:59.902 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:05:59.902 +03:00 [INF] ServAuth Creating token
2025-05-30 23:05:59.902 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:05:59.902 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:05:59.903 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:05:59.903 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:05:59.905 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 23:05:59.915 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:05:59.915 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:05:59.915 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:06:13.439 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:06:13.439 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:06:13.439 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:06:13.443 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 23:06:13.449 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:06:13.449 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:06:13.449 +03:00 [INF] ProductDA Get Products
2025-05-30 23:06:13.453 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:06:14.582 +03:00 [INF] CartsAPI Add Cart
2025-05-30 23:06:14.582 +03:00 [INF] CartsBL Add Cart
2025-05-30 23:06:14.582 +03:00 [INF] CartDA Add Cart
2025-05-30 23:06:14.586 +03:00 [INF] CartDA Cart Added
2025-05-30 23:06:14.586 +03:00 [INF] CartDA Cart Items Added
2025-05-30 23:06:14.586 +03:00 [INF] CartsAPI Cart was added with id 503
2025-05-30 23:15:29.522 +03:00 [INF] AuthBL RefreshToken
2025-05-30 23:15:29.522 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 23:15:29.522 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 23:15:29.536 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 23:15:29.536 +03:00 [WRN] ServAuth Refresh token validation failed
2025-05-30 23:16:00.983 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 23:16:00.983 +03:00 [INF] AuthBL Login
2025-05-30 23:16:00.983 +03:00 [INF] ServAuth Login
2025-05-30 23:16:00.994 +03:00 [INF] ServPass Verifying password
2025-05-30 23:16:01.060 +03:00 [INF] ServAuth User logged in successfully with id 501
2025-05-30 23:16:01.060 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:16:01.060 +03:00 [INF] ServAuth Creating token
2025-05-30 23:16:01.060 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:16:01.060 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:16:01.060 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:16:01.061 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:16:01.064 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 23:16:01.077 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:16:01.077 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:16:01.077 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:16:03.669 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:16:03.669 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:16:03.669 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:16:03.679 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:16:03.679 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:16:03.679 +03:00 [INF] ProductDA Get Products
2025-05-30 23:16:03.709 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:16:14.914 +03:00 [INF] CartsAPI Update Cart
2025-05-30 23:16:14.914 +03:00 [INF] CartsBL Update Cart
2025-05-30 23:16:14.914 +03:00 [INF] CartDA Update Cart
2025-05-30 23:16:14.919 +03:00 [INF] CartDA Delete Cart
2025-05-30 23:16:14.936 +03:00 [INF] CartDA Cart Deleted
2025-05-30 23:16:14.937 +03:00 [INF] CartDA New Cart Have no Products so deleted
2025-05-30 23:16:14.937 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 23:16:17.771 +03:00 [INF] AuthBL RefreshToken
2025-05-30 23:16:17.771 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 23:16:17.771 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 23:16:17.775 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 23:16:17.775 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 23:16:17.775 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:16:17.775 +03:00 [INF] ServAuth Creating token
2025-05-30 23:16:17.775 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:16:17.775 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:16:17.775 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:16:17.776 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:16:17.788 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:16:17.788 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:16:17.788 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:16:17.834 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:16:17.834 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:16:17.834 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:16:17.837 +03:00 [WRN] CartsAPI There is no cart for this user
2025-05-30 23:16:17.844 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:16:17.844 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:16:17.844 +03:00 [INF] ProductDA Get Products
2025-05-30 23:16:17.848 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:16:19.653 +03:00 [INF] AuthBL Logout
2025-05-30 23:16:19.653 +03:00 [INF] ServAuth Logout
2025-05-30 23:16:19.657 +03:00 [INF] ServAuth User logged out successfully with id 501
2025-05-30 23:16:19.676 +03:00 [INF] AuthBL Logout
2025-05-30 23:16:19.676 +03:00 [INF] ServAuth Logout
2025-05-30 23:16:19.676 +03:00 [INF] CartsAPI Add Cart
2025-05-30 23:16:19.676 +03:00 [INF] CartsBL Add Cart
2025-05-30 23:16:19.676 +03:00 [INF] CartDA Add Cart
2025-05-30 23:16:19.685 +03:00 [WRN] ServAuth Logout failed
2025-05-30 23:16:19.764 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:53a99372-8b65-47cc-897b-8c68fe3046bd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 23:16:29.231 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 23:16:29.231 +03:00 [INF] AuthBL Login
2025-05-30 23:16:29.231 +03:00 [INF] ServAuth Login
2025-05-30 23:16:29.233 +03:00 [INF] ServPass Verifying password
2025-05-30 23:16:29.295 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 23:16:29.295 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:16:29.295 +03:00 [INF] ServAuth Creating token
2025-05-30 23:16:29.295 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:16:29.295 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:16:29.295 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:16:29.296 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:16:29.297 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 23:16:29.309 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:16:29.309 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:16:29.309 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:16:29.952 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:16:29.952 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:16:29.952 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:16:29.962 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:16:29.962 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:16:29.962 +03:00 [INF] ProductDA Get Products
2025-05-30 23:16:29.966 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:16:32.152 +03:00 [INF] CartsAPI Update Cart
2025-05-30 23:16:32.153 +03:00 [INF] CartsBL Update Cart
2025-05-30 23:16:32.153 +03:00 [INF] CartDA Update Cart
2025-05-30 23:16:32.172 +03:00 [INF] CartDA Cart Updated
2025-05-30 23:16:32.172 +03:00 [INF] CartsAPI Cart was updated
2025-05-30 23:16:34.116 +03:00 [INF] AuthBL RefreshToken
2025-05-30 23:16:34.116 +03:00 [INF] ServAuth Refreshing tokens
2025-05-30 23:16:34.116 +03:00 [INF] ServAuth Validating refresh token
2025-05-30 23:16:34.129 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 23:16:34.129 +03:00 [INF] ServAuth Refresh token validation successful
2025-05-30 23:16:34.129 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:16:34.129 +03:00 [INF] ServAuth Creating token
2025-05-30 23:16:34.129 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:16:34.129 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:16:34.129 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:16:34.130 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:16:34.151 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:16:34.151 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:16:34.151 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:16:34.198 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:16:34.198 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:16:34.199 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:16:34.211 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:16:34.211 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:16:34.211 +03:00 [INF] ProductDA Get Products
2025-05-30 23:16:34.222 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:16:36.857 +03:00 [INF] AuthBL Logout
2025-05-30 23:16:36.857 +03:00 [INF] ServAuth Logout
2025-05-30 23:16:36.866 +03:00 [INF] ServAuth User logged out successfully with id 507
2025-05-30 23:16:36.879 +03:00 [INF] AuthBL Logout
2025-05-30 23:16:36.879 +03:00 [INF] CartsAPI Add Cart
2025-05-30 23:16:36.880 +03:00 [INF] ServAuth Logout
2025-05-30 23:16:36.880 +03:00 [INF] CartsBL Add Cart
2025-05-30 23:16:36.880 +03:00 [INF] CartDA Add Cart
2025-05-30 23:16:36.884 +03:00 [WRN] ServAuth Logout failed
2025-05-30 23:16:36.969 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:53a99372-8b65-47cc-897b-8c68fe3046bd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 23:20:51.166 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 23:20:51.166 +03:00 [INF] AuthBL Login
2025-05-30 23:20:51.166 +03:00 [INF] ServAuth Login
2025-05-30 23:20:51.179 +03:00 [INF] ServPass Verifying password
2025-05-30 23:20:51.247 +03:00 [INF] ServAuth User logged in successfully with id 507
2025-05-30 23:20:51.247 +03:00 [INF] ServAuth Creating token response
2025-05-30 23:20:51.247 +03:00 [INF] ServAuth Creating token
2025-05-30 23:20:51.247 +03:00 [INF] ServAuth Token created successfully
2025-05-30 23:20:51.247 +03:00 [INF] ServAuth Generating and saving refresh token
2025-05-30 23:20:51.247 +03:00 [INF] ServAuth Generating refresh token
2025-05-30 23:20:51.248 +03:00 [INF] ServAuth Refresh token saved successfully
2025-05-30 23:20:51.252 +03:00 [INF] AuthAPI User logged in successfully
2025-05-30 23:20:51.267 +03:00 [INF] UsersAPI GetUserAPI
2025-05-30 23:20:51.267 +03:00 [INF] UsersBL GetUserById
2025-05-30 23:20:51.267 +03:00 [INF] UserDA Getting user by id
2025-05-30 23:20:52.273 +03:00 [INF] CartsAPI Get Current User Cart
2025-05-30 23:20:52.273 +03:00 [INF] CartsBL Get User Cart
2025-05-30 23:20:52.273 +03:00 [INF] CartDA Get User Cart
2025-05-30 23:20:52.294 +03:00 [INF] ProductsAPI GetProducts
2025-05-30 23:20:52.294 +03:00 [INF] ProductsBL GetProductsPaginated
2025-05-30 23:20:52.294 +03:00 [INF] ProductDA Get Products
2025-05-30 23:20:52.302 +03:00 [INF] ProductDA Returned: page 1, pageSize 12
2025-05-30 23:21:31.659 +03:00 [INF] UsersAPI DeleteUserAPI
2025-05-30 23:21:31.660 +03:00 [INF] UsersBL DeleteUser
2025-05-30 23:21:31.661 +03:00 [INF] UserDA Deleted user with id 507
2025-05-30 23:21:31.681 +03:00 [INF] UserDA user with id 507 deleted
2025-05-30 23:21:31.681 +03:00 [INF] UsersAPI User deleted successfully
2025-05-30 23:21:33.191 +03:00 [INF] CartsAPI Add Cart
2025-05-30 23:21:33.191 +03:00 [INF] CartsBL Add Cart
2025-05-30 23:21:33.191 +03:00 [INF] CartDA Add Cart
2025-05-30 23:21:33.192 +03:00 [INF] AuthBL Logout
2025-05-30 23:21:33.192 +03:00 [INF] ServAuth Logout
2025-05-30 23:21:33.201 +03:00 [WRN] ServAuth Logout failed
2025-05-30 23:21:33.287 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Carts_Users_UserId". The conflict occurred in database "Shopping App", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:13107ad4-fdbb-467a-974d-9422d4e678e9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ShoppingAppDB.CartData.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppDB\CartData.cs:line 116
   at ShoppingAppBussiness.CartsService.AddCartAsync(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppBussiness\CartsService.cs:line 34
   at ShoppingAppAPI.Controllers.CartsAPI.AddCart(CartDto cart) in C:\Users\ENG Ahmed\source\repos\ShoppingApp\BackEnd\ShoppingAppAPI\Controllers\CartsAPI.cs:line 75
   at lambda_method738(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 23:21:49.198 +03:00 [INF] AuthAPI LoginAPI
2025-05-30 23:21:49.198 +03:00 [INF] AuthBL Login
2025-05-30 23:21:49.198 +03:00 [INF] ServAuth Login
2025-05-30 23:21:49.202 +03:00 [WRN] ServAuth Login failed
2025-05-30 23:21:49.203 +03:00 [WRN] AuthAPI Invalid username or password
